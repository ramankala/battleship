(()=>{"use strict";const e=e=>{const t=[];return{ship:t,length:e,hit:e=>t[e]="hit",isSunk:()=>{let r=0,o=!1;return t.forEach((function(e){"hit"===e&&(r+=1)})),o=r===e,o}}},t=(t,r=!1)=>{let o=e(5),i=e(4),l=e(3),a=e(3),n=e(2),d={name:t,isActive:r};return{get name(){return d.name},get isActive(){return d.isActive},toggle(){d.isActive=!d.isActive},board:(()=>{let e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];for(let t=0;t<10;t++)for(let r=0;r<10;r++)e[t][r]={hasShip:!1,isShot:!1,shipLength:0,shipType:"n/a",xPoint:0,yPoint:0};return{gameBoard:e,placeHorizontal:(t,r,o,i)=>{for(let l=0;l<o;l++)e[t][r].hasShip=!0,e[t][r].shipLength=o,e[t][r].shipType=i,e[t][r].xPoint=t,e[t][r].yPoint=r,r+=1;return e},placeVert:(t,r,o,i)=>{for(let l=0;l<o;l++)e[t][r].hasShip=!0,e[t][r].shipLength=o,e[t][r].shipType=i,e[t][r].xPoint=t,e[t][r].yPoint=r,t+=1;return e},receiveAttack:(t,r)=>!0===e[t][r].hasShip?(e[t][r].isShot=!0,"Hit"):(e[t][r].isShot=!0,e),allShipsSunk:e=>e.filter((e=>e.isSunk())).length===e.length,scout:(t,r,o,i)=>{let l=!1;if("row"===i)for(let i=0;i<o;i++)!0===e[t][r].hasShip&&(l=!0),r+=1;else for(let i=0;i<o;i++)!0===e[t][r].hasShip&&(l=!0),t+=1;return l}}})(),ships:[o,i,l,a,n],enemyMove:()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],pos:[0,0,0,0,0],flag:[!1,!1,!1,!1,!1]}},r=(e,t)=>{let r=document.querySelector(`#container${t}`),o=document.createElement("div");o.setAttribute("id","row1");let i=document.createElement("div");i.setAttribute("id","row2");let l=document.createElement("div");l.setAttribute("id","row3");let a=document.createElement("div");a.setAttribute("id","row4");let n=document.createElement("div");n.setAttribute("id","row5");let d=document.createElement("div");d.setAttribute("id","row6");let s=document.createElement("div");s.setAttribute("id","row7");let u=document.createElement("div");u.setAttribute("id","row8");let c=document.createElement("div");c.setAttribute("id","row9");let p=document.createElement("div");p.setAttribute("id","row10"),e.forEach((function(e,g){e.forEach((function(e,m){let h=document.createElement("div");h.setAttribute("id",`squareDiv${g}${m}`),h.setAttribute("data-y-coord",m),h.setAttribute("data-x-coord",g),h.setAttribute("data-has-ship",e.hasShip),h.setAttribute("data-is-shot",e.isShot),h.classList.add(`atkDiv${t}`),!1===e.hasShip&&1===t?h.style.backgroundColor="rgb(179, 196, 250)":!0===e.hasShip&&1===t&&(h.style.backgroundColor="green");for(let e=0;e<10;e++)h.getAttribute("id")==`squareDiv0${e}`?o.appendChild(h):h.getAttribute("id")==`squareDiv1${e}`?i.appendChild(h):h.getAttribute("id")==`squareDiv2${e}`?l.appendChild(h):h.getAttribute("id")==`squareDiv3${e}`?a.appendChild(h):h.getAttribute("id")==`squareDiv4${e}`?n.appendChild(h):h.getAttribute("id")==`squareDiv5${e}`?d.appendChild(h):h.getAttribute("id")==`squareDiv6${e}`?s.appendChild(h):h.getAttribute("id")==`squareDiv7${e}`?u.appendChild(h):h.getAttribute("id")==`squareDiv8${e}`?c.appendChild(h):h.getAttribute("id")==`squareDiv9${e}`&&p.appendChild(h);r.appendChild(o),r.appendChild(i),r.appendChild(l),r.appendChild(a),r.appendChild(n),r.appendChild(d),r.appendChild(s),r.appendChild(u),r.appendChild(c),r.appendChild(p)}))}))},o=e=>{const t=document.querySelector("#btnContainer"),r=document.querySelector("#winContainer"),o=document.querySelector("#resetBtn"),i=document.createElement("div");"Player"===e?i.textContent="Enemy fleet destroyed!":"Computer"===e&&(i.textContent="Your fleet was destroyed!"),t.style.display="none",r.appendChild(i),r.appendChild(o)},i=(e,t,r,l)=>{let a,n=e.board,d=e.ships,s=n.gameBoard[r][l].isShot,u=n.gameBoard[r][l].hasShip,c=n.gameBoard[r][l].shipLength,p=n.gameBoard[r][l].shipType;a=0===r?l:""+r+l;let g=document.getElementsByClassName("atkDiv1")[a];if(!0===t.isActive)if(!1===s){g.style.backgroundColor=!0===u?"red":"grey";let a=n.receiveAttack(r,l);if("Carrier"==p?(d.filter((e=>e.length==c))[0].hit(e.pos[0]),e.pos[0]+=1):"Battleship"==p?(d.filter((e=>e.length==c))[0].hit(e.pos[1]),e.pos[1]+=1):"Destroyer"==p?(d.filter((e=>e.length==c))[0].hit(e.pos[2]),e.pos[2]+=1):"Submarine"==p?(d.filter((e=>e.length==c))[1].hit(e.pos[3]),e.pos[3]+=1):"Patrolboat"==p&&(d.filter((e=>e.length==c))[0].hit(e.pos[4]),e.pos[4]+=1),!0===n.allShipsSunk(d))return void o("Computer");if(!0===t.board.allShipsSunk(t.ships))return void o("User");if("Hit"!==a)e.toggle(),t.toggle();else switch(Math.floor(2*Math.random())+1){case 1:l+1<10?i(e,t,r,l+1):i(e,t,r+1<10?r+1:r-1,l);case 2:r+1<10?i(e,t,r+1,l):i(e,t,r,l+1<10?l+1:l-1)}}else{let r=e.enemyMove();i(e,t,r[0],r[1])}},l=()=>{const e=document.querySelector("#Carrier"),t=document.querySelector("#Battleship"),r=document.querySelector("#Destroyer"),o=document.querySelector("#Submarine"),i=document.querySelector("#Patrolboat");"row"===e.style.flexDirection?(e.style.flexDirection="column",t.style.flexDirection="column",r.style.flexDirection="column",o.style.flexDirection="column",i.style.flexDirection="column",e.setAttribute("data-alignment","column")):(e.style.flexDirection="row",t.style.flexDirection="row",r.style.flexDirection="row",o.style.flexDirection="row",i.style.flexDirection="row",e.setAttribute("data-alignment","row"))},a=e=>{e.dataTransfer.setData("text/plain",e.target.id),e.currentTarget.style.backgroundColor="green"};(()=>{const e=document.querySelector("#startBtn"),n=document.querySelector("#alignBtn"),d=document.querySelector("#resetBtn"),s=document.querySelector("#Carrier"),u=document.querySelector("#Battleship"),c=document.querySelector("#Destroyer"),p=document.querySelector("#Submarine"),g=document.querySelector("#Patrolboat");s.style.flexDirection="row",s.setAttribute("data-alignment","row");const m=[t("player1",!0),t("computer",!1)];s.addEventListener("dragstart",a),u.addEventListener("dragstart",a),c.addEventListener("dragstart",a),p.addEventListener("dragstart",a),g.addEventListener("dragstart",a),r(m[0].board.gameBoard,1),n.addEventListener("click",l),(e=>{let t=e.board;const r=e=>{e.preventDefault()},o=r=>{r.preventDefault();let o=parseInt(r.target.getAttribute("data-x-coord")),i=parseInt(r.target.getAttribute("data-y-coord")),l=r.dataTransfer.getData("text"),a=document.querySelector("#Carrier"),n=document.querySelector("#Battleship"),d=document.querySelector("#Destroyer"),s=document.querySelector("#Submarine"),u=document.querySelector("#Patrolboat"),c=a.getAttribute("data-alignment");if("Carrier"===l&&!1===t.scout(o,i,5,c)){if(e.flag[0]=!0,"row"===c){t.placeHorizontal(o,i,5,l);for(let e=0;e<5;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===c){t.placeVert(o,i,5,l);for(let e=0;e<5;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}a.style.display="none"}if("Battleship"===l&&!1===t.scout(o,i,4,c)){if(e.flag[1]=!0,"row"===c){t.placeHorizontal(o,i,4,l);for(let e=0;e<4;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===c){t.placeVert(o,i,4,l);for(let e=0;e<4;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}n.style.display="none"}if("Destroyer"===l&&!1===t.scout(o,i,3,c)){if(e.flag[2]=!0,"row"===c){t.placeHorizontal(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===c){t.placeVert(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}d.style.display="none"}if("Submarine"===l&&!1===t.scout(o,i,3,c)){if(e.flag[3]=!0,"row"===c){t.placeHorizontal(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===c){t.placeVert(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}s.style.display="none"}if("Patrolboat"===l&&!1===t.scout(o,i,2,c)){if(e.flag[4]=!0,"row"===c){t.placeHorizontal(o,i,2,l);for(let e=0;e<2;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===c){t.placeVert(o,i,2,l);for(let e=0;e<2;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}u.style.display="none"}5===e.flag.filter((e=>!0===e)).length&&(document.querySelector("#startBtn").style.display="flex")};let i=document.getElementsByClassName("atkDiv1");for(let e=0;e<i.length;e++)i[e].addEventListener("dragover",r),i[e].addEventListener("drop",o)})(m[0]),e.addEventListener("click",(function(){((e,t)=>{const o=document.querySelector("#gameContainer"),i=document.querySelector("#container2"),l=document.querySelector("#gamerTag"),a=document.querySelector("#computerTag"),n=document.querySelector("#startBtn"),d=document.querySelector("#alignBtn");(()=>{let e=document.querySelector("#container1");for(;e.firstChild;)e.removeChild(e.firstChild)})(),r(e.board.gameBoard,1),t.board.placeHorizontal(8,1,5,"Carrier"),t.board.placeVert(3,7,4,"Battleship"),t.board.placeVert(4,3,3,"Destroyer"),t.board.placeHorizontal(1,1,3,"Submarine"),t.board.placeVert(1,9,2,"Patrolboat"),r(t.board.gameBoard,2),o.style.gap="17%",i.style.display="flex",l.style.gap="10%",a.style.display="flex",n.style.display="none",d.style.display="none"})(m[0],m[1]),((e,t,r)=>{let l,a,n,d,s,u=t.board,c=t.ships,p=document.getElementsByClassName("atkDiv2");for(let r=0;r<p.length;r++)p[r].addEventListener("click",(function(r){if(!0===e.isActive&&(a=r.target.getAttribute("data-y-coord"),n=r.target.getAttribute("data-x-coord"),l=u.gameBoard[n][a].isShot,d=u.gameBoard[n][a].shipLength,s=u.gameBoard[n][a].shipType,!1===l)){"true"===r.target.getAttribute("data-has-ship")?r.target.style.backgroundColor="red":r.target.style.backgroundColor="grey";let l=u.receiveAttack(n,a);if("Carrier"==s?(c.filter((e=>e.length==d))[0].hit(t.pos[0]),t.pos[0]+=1):"Battleship"==s?(c.filter((e=>e.length==d))[0].hit(t.pos[1]),t.pos[1]+=1):"Destroyer"==s?(c.filter((e=>e.length==d))[0].hit(t.pos[2]),t.pos[2]+=1):"Submarine"==s?(c.filter((e=>e.length==d))[1].hit(t.pos[3]),t.pos[3]+=1):"Patrolboat"==s&&(c.filter((e=>e.length==d))[0].hit(t.pos[4]),t.pos[4]+=1),!0===u.allShipsSunk(c))return o("Player"),void e.toggle();if(!0===e.board.allShipsSunk(e.ships))return o("Computer"),void t.toggle();"Hit"!==l&&(e.toggle(),t.toggle());let p=e.enemyMove();i(e,t,p[0],p[1])}}))})(m[0],m[1])})),d.addEventListener("click",(function(){window.location.reload()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0csY0FBWnVCLElBRU9XLEVBQU1ELFFBQU9uQyxHQUFRQSxFQUFLRCxRQUFVeUIsSUFDMUMsR0FBR3ZCLElBQUlrRixFQUFNakYsSUFBSSxJQUN6QmlGLEVBQU1qRixJQUFJLElBQU0sSUFFa0IsSUFBbENpQixFQUFVYyxhQUFhRyxHQUd2QixPQUZBcUMsRUFBTyxlQUNQUyxFQUFPakUsU0FHWCxJQUFnRCxJQUE1Q2lFLEVBQU9oRSxNQUFNZSxhQUFhaUQsRUFBTzlDLE9BR2pDLE9BRkFxQyxFQUFPLGlCQUNQVSxFQUFNbEUsU0FHTSxRQUFacUUsSUFDQUosRUFBT2pFLFNBQ1BrRSxFQUFNbEUsVUFFVixJQUFJc0UsRUFBY0wsRUFBT3pDLFlBQ3pCd0MsRUFBWUMsRUFBUUMsRUFBT0ksRUFBWSxHQUFJQSxFQUFZLFNFakNuRTRDLENBQVkzQixFQUFVLEdBQUlBLEVBQVUsT0FHeEMzQixFQUFTNEIsaUJBQWlCLFNBQVMsV0FDL0IyQixPQUFPQyxTQUFTQyxhQ3ZDeEJDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVCb2FyZEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy93aW5uZXJNc2cuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9hdHRhY2tzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2hpcEZhY3RvcnkgfSBmcm9tICcuL3NoaXBGYWN0b3J5JztcblxuY29uc3QgZ2FtZUJvYXJkRmFjdG9yeSA9ICgpID0+IHtcbiAgICBsZXQgZ2FtZUJvYXJkID0gW1xuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICBdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKyl7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKyl7XG4gICAgICAgICAgICBnYW1lQm9hcmRbaV1bal0gPSAoe2hhc1NoaXA6IGZhbHNlLCBpc1Nob3Q6IGZhbHNlLCBzaGlwTGVuZ3RoOiAwLCBzaGlwVHlwZTogJ24vYScsIHhQb2ludDogMCwgeVBvaW50OiAwfSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuXG4gICAgY29uc3QgcGxhY2VIb3Jpem9udGFsID0gKHgsIHksIHNoaXBMZW5ndGgsIHNoaXBUeXBlKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwID0gdHJ1ZTtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwTGVuZ3RoID0gc2hpcExlbmd0aDtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwVHlwZSA9IHNoaXBUeXBlO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnhQb2ludCA9IHg7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0ueVBvaW50ID0geTtcbiAgICAgICAgICAgIHkgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZUJvYXJkO1xuICAgIH1cbiAgICBjb25zdCBwbGFjZVZlcnQgPSAoeCwgeSwgc2hpcExlbmd0aCwgc2hpcFR5cGUpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLmhhc1NoaXAgPSB0cnVlO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnNoaXBMZW5ndGggPSBzaGlwTGVuZ3RoO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnNoaXBUeXBlID0gc2hpcFR5cGU7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0ueFBvaW50ID0geDtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS55UG9pbnQgPSB5O1xuICAgICAgICAgICAgeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYW1lQm9hcmQ7XG4gICAgfVxuXG4gICAgY29uc3Qgc2NvdXQgPSAoeCwgeSwgc2hpcExlbmd0aCwgYWxpZ25tZW50KSA9PiB7XG4gICAgICAgIGxldCByZXBvcnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFsaWdubWVudCA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGxldCBhbmFseXNpcyA9IGdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwO1xuICAgICAgICAgICAgICAgIGlmICggYW5hbHlzaXMgPT09IHRydWUgKXtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHkgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBsZXQgYW5hbHlzaXMgPSBnYW1lQm9hcmRbeF1beV0uaGFzU2hpcDtcbiAgICAgICAgICAgICAgICBpZiAoYW5hbHlzaXMgPT09IHRydWUpe1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQgPSB0cnVlOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXBvcnQ7XG4gICAgfVxuXG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgICAgIGlmIChnYW1lQm9hcmRbeF1beV0uaGFzU2hpcCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uaXNTaG90ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAnSGl0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5pc1Nob3QgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGdhbWVCb2FyZDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoYXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1bmtlblNoaXBzID0gYXJyLmZpbHRlcihzaGlwcyA9PiBzaGlwcy5pc1N1bmsoKSk7XG4gICAgICAgIGlmIChzdW5rZW5TaGlwcy5sZW5ndGggPT09IGFyci5sZW5ndGgpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVCb2FyZCxcbiAgICAgICAgcGxhY2VIb3Jpem9udGFsLFxuICAgICAgICBwbGFjZVZlcnQsXG4gICAgICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgICAgIGFsbFNoaXBzU3VuayxcbiAgICAgICAgc2NvdXQsXG4gICAgfVxufTtcblxuZXhwb3J0IHsgZ2FtZUJvYXJkRmFjdG9yeSB9OyIsIlxuY29uc3Qgc2hpcEZhY3RvcnkgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3Qgc2hpcCA9IFtdO1xuXG4gICAgY29uc3QgaGl0ID0gKHBvcykgPT4gc2hpcFtwb3NdID0gJ2hpdCc7XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBzdW5rID0gZmFsc2U7XG5cbiAgICAgICAgc2hpcC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT09ICdoaXQnKXtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvdW50ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHN1bmsgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VuayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bms7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNoaXAsXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgaGl0LFxuICAgICAgICBpc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgc2hpcEZhY3RvcnkgfTsiLCJpbXBvcnQgeyBnYW1lQm9hcmRGYWN0b3J5IH0gZnJvbSAnLi9nYW1lQm9hcmRGYWN0b3J5JztcbmltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IFBsYXllciA9IChuYW1lLCBpc0FjdGl2ZSA9IGZhbHNlKSA9PiB7XG5cbiAgICBsZXQgcG9zNSA9IDA7XG4gICAgbGV0IHBvczQgPSAwO1xuICAgIGxldCBwb3MzID0gMDtcbiAgICBsZXQgcG9zMiA9IDA7XG4gICAgbGV0IHBvczEgPSAwO1xuXG4gICAgbGV0IGZsYWcxID0gZmFsc2U7XG4gICAgbGV0IGZsYWcyID0gZmFsc2U7XG4gICAgbGV0IGZsYWczID0gZmFsc2U7XG4gICAgbGV0IGZsYWc0ID0gZmFsc2U7XG4gICAgbGV0IGZsYWc1ID0gZmFsc2U7XG5cbiAgICBsZXQgY2FycmllciA9IHNoaXBGYWN0b3J5KDUpO1xuICAgIGxldCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCk7XG4gICAgbGV0IGRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KDMpO1xuICAgIGxldCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzKTtcbiAgICBsZXQgcGF0cm9sQm9hdCA9IHNoaXBGYWN0b3J5KDIpO1xuICAgIFxuICAgIGxldCBzdGF0ZSA9IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgfVxuICAgIGxldCBib2FyZCA9IGdhbWVCb2FyZEZhY3RvcnkoKTtcblxuICAgIGxldCBzaGlwcyA9IFtjYXJyaWVyLCBiYXR0bGVzaGlwLCBkZXN0cm95ZXIsIHN1Ym1hcmluZSwgcGF0cm9sQm9hdF07XG5cbiAgICBjb25zdCBlbmVteU1vdmUgPSAoKSA9PiB7XG4gICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSk7XG4gICAgICAgIGxldCB5ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSk7XG5cbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9XG4gICAgbGV0IHBvcyA9IFtwb3M1LCBwb3M0LCBwb3MzLCBwb3MyLCBwb3MxXTtcblxuICAgIGxldCBmbGFnID0gW2ZsYWcxLCBmbGFnMiwgZmxhZzMsIGZsYWc0LCBmbGFnNV07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgbmFtZSgpe3JldHVybiBzdGF0ZS5uYW1lO30sXG4gICAgICAgIGdldCBpc0FjdGl2ZSgpe3JldHVybiBzdGF0ZS5pc0FjdGl2ZTt9LFxuICAgICAgICB0b2dnbGUoKXsgc3RhdGUuaXNBY3RpdmUgPSAhc3RhdGUuaXNBY3RpdmU7fSxcbiAgICAgICAgYm9hcmQsXG4gICAgICAgIHNoaXBzLFxuICAgICAgICBlbmVteU1vdmUsXG4gICAgICAgIHBvcyxcbiAgICAgICAgZmxhZyxcbiAgICB9XG59O1xuXG5leHBvcnQgeyBQbGF5ZXIgfTsiLCJjb25zdCByZW5kZXJHQm9hcmQgPSAoZ2FtZUJvYXJkLCBudW0pID0+IHtcbiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NvbnRhaW5lciR7bnVtfWApO1xuICAgIGxldCByb3cxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93MS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzEnKTtcbiAgICBsZXQgcm93MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzIuc2V0QXR0cmlidXRlKCdpZCcsICdyb3cyJyk7XG4gICAgbGV0IHJvdzMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3czLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MycpO1xuICAgIGxldCByb3c0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93NC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzQnKTtcbiAgICBsZXQgcm93NSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzUuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c1Jyk7XG4gICAgbGV0IHJvdzYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c2LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93NicpO1xuICAgIGxldCByb3c3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93Ny5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzcnKTtcbiAgICBsZXQgcm93OCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzguc2V0QXR0cmlidXRlKCdpZCcsICdyb3c4Jyk7XG4gICAgbGV0IHJvdzkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c5LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93OScpO1xuICAgIGxldCByb3cxMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzEwLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MTAnKTtcblxuICAgIGdhbWVCb2FyZC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbihzdWJpdGVtLCBzdWJpbmRleCkge1xuICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBgc3F1YXJlRGl2JHtpbmRleH0ke3N1YmluZGV4fWApO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS15LWNvb3JkJywgc3ViaW5kZXgpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS14LWNvb3JkJywgaW5kZXgpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oYXMtc2hpcCcsIHN1Yml0ZW0uaGFzU2hpcCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuc2V0QXR0cmlidXRlKCdkYXRhLWlzLXNob3QnLCBzdWJpdGVtLmlzU2hvdCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuY2xhc3NMaXN0LmFkZChgYXRrRGl2JHtudW19YCk7XG4gICAgICAgICAgICBpZiAoc3ViaXRlbS5oYXNTaGlwID09PSBmYWxzZSAmJiBudW0gPT09IDEpe1xuICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDE3OSwgMTk2LCAyNTApJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1Yml0ZW0uaGFzU2hpcCA9PT0gdHJ1ZSAmJiBudW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNxdWFyZURpdi50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Mi5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MiR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93My5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MyR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93NC5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93NS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Ni5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NiR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Ny5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NyR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93OC5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2OCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93OS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2OSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MTAuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93MSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Mik7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Myk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93NCk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93NSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Nik7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Nyk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93OCk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93OSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93MTApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblxuY29uc3QgcGxhY2VQaWVjZXMgPSAodXNlcikgPT4ge1xuICAgIGxldCBwbGF5ZXIgPSB1c2VyLmJvYXJkO1xuXG4gICAgY29uc3Qgb25EcmFnT3ZlciA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgY29uc3Qgb25Ecm9wID0gKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgeCA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS14LWNvb3JkJykpO1xuICAgICAgICBsZXQgeSA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS15LWNvb3JkJykpO1xuICAgICAgICBsZXQgZGF0YSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQnKTtcbiAgICAgICAgbGV0IGNhcnJpZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2FycmllcicpO1xuICAgICAgICBsZXQgYmF0dGxlU2hpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNCYXR0bGVzaGlwJyk7XG4gICAgICAgIGxldCBkZXN0cm95ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjRGVzdHJveWVyJyk7XG4gICAgICAgIGxldCBzdWJNYXJpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU3VibWFyaW5lJyk7XG4gICAgICAgIGxldCBwYXRyb2xCID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BhdHJvbGJvYXQnKTtcbiAgICAgICAgbGV0IGFsaWduID0gY2Fycmllci5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpZ25tZW50Jyk7XG4gICAgICAgIGlmIChkYXRhID09PSAnQ2Fycmllcicpe1xuICAgICAgICAgICAgaWYgKHBsYXllci5zY291dCh4LCB5LCA1LCBhbGlnbikgPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICB1c2VyLmZsYWdbMF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VIb3Jpem9udGFsKHgsIHksIDUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZVZlcnQoeCwgeSwgNSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhcnJpZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhID09PSAnQmF0dGxlc2hpcCcpe1xuICAgICAgICAgICAgaWYgKHBsYXllci5zY291dCh4LCB5LCA0LCBhbGlnbikgPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICB1c2VyLmZsYWdbMV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VIb3Jpem9udGFsKHgsIHksIDQsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZVZlcnQoeCwgeSwgNCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhdHRsZVNoaXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSA9PT0gJ0Rlc3Ryb3llcicpe1xuICAgICAgICAgICAgaWYgKHBsYXllci5zY291dCh4LCB5LCAzLCBhbGlnbikgPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICB1c2VyLmZsYWdbMl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VIb3Jpem9udGFsKHgsIHksIDMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZVZlcnQoeCwgeSwgMywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc3Ryb3llci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhID09PSAnU3VibWFyaW5lJyl7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNjb3V0KHgsIHksIDMsIGFsaWduKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIHVzZXIuZmxhZ1szXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAncm93Jyl7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZUhvcml6b250YWwoeCwgeSwgMywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlVmVydCh4LCB5LCAzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ViTWFyaW5lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEgPT09ICdQYXRyb2xib2F0Jyl7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNjb3V0KHgsIHksIDIsIGFsaWduKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIHVzZXIuZmxhZ1s0XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAncm93Jyl7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZUhvcml6b250YWwoeCwgeSwgMiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlVmVydCh4LCB5LCAyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0cm9sQi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBmbGFnQXJyID0gdXNlci5mbGFnLmZpbHRlcihmbGFnID0+IGZsYWcgPT09IHRydWUpO1xuICAgICAgICBpZiAoZmxhZ0Fyci5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0QnRuJyk7XG4gICAgICAgICAgICBzdGFydEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByZXNwb25zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0a0RpdjEnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UubGVuZ3RoOyBpKyspe1xuICAgICAgICByZXNwb25zZVtpXS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRHJhZ092ZXIpO1xuICAgICAgICByZXNwb25zZVtpXS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgb25Ecm9wKTtcbiAgICB9O1xuXG59XG5cbmNvbnN0IGRlUmVuZGVyID0gKCkgPT4ge1xuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lcjFcIik7XG4gICAgd2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBcblxuICAgIHJlbmRlckdCb2FyZCxcbiAgICBwbGFjZVBpZWNlcyxcbiAgICBkZVJlbmRlcixcbiB9OyIsImNvbnN0IHdpbk1zZyA9IChzdHJpbmcpID0+IHtcbiAgICBjb25zdCBidG5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnRuQ29udGFpbmVyJyk7XG4gICAgY29uc3Qgd2luQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpbkNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHJlc2V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc2V0QnRuJyk7XG4gICAgY29uc3Qgd2lubmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaWYgKHN0cmluZyA9PT0gJ1BsYXllcicpIHtcbiAgICAgICAgd2lubmVyRGl2LnRleHRDb250ZW50ID0gJ0VuZW15IGZsZWV0IGRlc3Ryb3llZCEnO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdHJpbmcgPT09ICdDb21wdXRlcicpIHtcbiAgICAgICAgd2lubmVyRGl2LnRleHRDb250ZW50ID0gJ1lvdXIgZmxlZXQgd2FzIGRlc3Ryb3llZCEnO1xuICAgIH1cbiAgICBidG5Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIHdpbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh3aW5uZXJEaXYpO1xuICAgIHdpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChyZXNldEJ0bik7XG59XG5cbmV4cG9ydCB7IHdpbk1zZyB9OyIsImltcG9ydCB7d2luTXNnfSBmcm9tICcuL3dpbm5lck1zZyc7XG5jb25zdCBhdGtMaXN0ZW5lciA9IChwbGF5ZXIsIGVuZW15LCBudW0pID0+IHtcbiAgICBsZXQgZ2FtZUJvYXJkID0gZW5lbXkuYm9hcmQ7XG4gICAgbGV0IHNoaXBzID0gZW5lbXkuc2hpcHM7XG4gICAgbGV0IHJlc3BvbnNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShgYXRrRGl2JHtudW19YCk7XG4gICAgbGV0IGlzU2hvdDtcbiAgICBsZXQgeVBvaW50O1xuICAgIGxldCB4UG9pbnQ7XG4gICAgbGV0IHNoaXBMZW5ndGg7XG4gICAgbGV0IHNoaXBUeXBlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHJlc3BvbnNlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzQWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeVBvaW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnKTtcbiAgICAgICAgICAgICAgICB4UG9pbnQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteC1jb29yZCcpO1xuICAgICAgICAgICAgICAgIGlzU2hvdCA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdLmlzU2hvdDtcbiAgICAgICAgICAgICAgICBzaGlwTGVuZ3RoID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4UG9pbnRdW3lQb2ludF0uc2hpcExlbmd0aDtcbiAgICAgICAgICAgICAgICBzaGlwVHlwZSA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdLnNoaXBUeXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzU2hvdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1oYXMtc2hpcCcpID09PSAndHJ1ZScpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JleSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBnYW1lQm9hcmQucmVjZWl2ZUF0dGFjayh4UG9pbnQsIHlQb2ludCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcFR5cGUgPT0gJ0NhcnJpZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChlbmVteS5wb3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkucG9zWzBdICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ0JhdHRsZXNoaXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChlbmVteS5wb3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkucG9zWzFdICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ0Rlc3Ryb3llcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KGVuZW15LnBvc1syXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5wb3NbMl0gKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnU3VibWFyaW5lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFsxXS5oaXQoZW5lbXkucG9zWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnBvc1szXSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdQYXRyb2xib2F0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQoZW5lbXkucG9zWzRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnBvc1s0XSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lQm9hcmQuYWxsU2hpcHNTdW5rKHNoaXBzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luTXNnKCdQbGF5ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJvYXJkLmFsbFNoaXBzU3VuayhwbGF5ZXIuc2hpcHMpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5Nc2coJ0NvbXB1dGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSAhPT0gJ0hpdCcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gcGxheWVyLmVuZW15TW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCBjb29yZGluYXRlc1swXSwgY29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5cbmNvbnN0IGVuZW15QXR0YWNrID0gKHBsYXllciwgZW5lbXksIHgsIHkpID0+IHtcbiAgICBsZXQgZ2FtZUJvYXJkID0gcGxheWVyLmJvYXJkO1xuICAgIGxldCBzaGlwcyA9IHBsYXllci5zaGlwcztcbiAgICBsZXQgaXNTaG90ID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4XVt5XS5pc1Nob3Q7O1xuICAgIGxldCBoYXNTaGlwID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwO1xuICAgIGxldCBzaGlwTGVuZ3RoID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4XVt5XS5zaGlwTGVuZ3RoO1xuICAgIGxldCBzaGlwVHlwZSA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeF1beV0uc2hpcFR5cGU7XG4gICAgbGV0IHBhbmVsO1xuICAgIGlmICh4ID09PSAwKXtcbiAgICAgICAgcGFuZWwgPSB5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhbmVsID0gJycgKyB4ICsgeTtcbiAgICB9XG4gICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0a0RpdjEnKVtwYW5lbF07ICBcblxuXG4gICAgaWYgKGVuZW15LmlzQWN0aXZlID09PSB0cnVlKSB7XG5cbiAgICAgICAgaWYgKGlzU2hvdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChoYXNTaGlwID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JleSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGdhbWVCb2FyZC5yZWNlaXZlQXR0YWNrKHgsIHkpO1xuXG4gICAgICAgICAgICBpZiAoc2hpcFR5cGUgPT0gJ0NhcnJpZXInKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChwbGF5ZXIucG9zWzBdKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucG9zWzBdICs9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdCYXR0bGVzaGlwJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocGxheWVyLnBvc1sxXSk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBvc1sxXSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnRGVzdHJveWVyJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocGxheWVyLnBvc1syXSk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBvc1syXSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnU3VibWFyaW5lJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaGl0U2hpcFsxXS5oaXQocGxheWVyLnBvc1szXSk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBvc1szXSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnUGF0cm9sYm9hdCcpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KHBsYXllci5wb3NbNF0pO1xuICAgICAgICAgICAgICAgIHBsYXllci5wb3NbNF0gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYW1lQm9hcmQuYWxsU2hpcHNTdW5rKHNoaXBzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHdpbk1zZygnQ29tcHV0ZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5lbXkuYm9hcmQuYWxsU2hpcHNTdW5rKGVuZW15LnNoaXBzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHdpbk1zZygnVXNlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChtZXNzYWdlICE9PSAnSGl0Jyl7XG4gICAgICAgICAgICAgICAgcGxheWVyLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgIGVuZW15LnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpICsgMSl7XG4gICAgICAgICAgICAgICAgICAgIC8vSWYgaGl0IGxhbmRzLCBhdHRhY2sgYWRqYWNlbnQgcmlnaHQgdGlsZSwgdW5sZXNzIHRoZXJlJ3Mgbm8gcmlnaHQgdGlsZSwgdGhlbiBzdHJpa2VcbiAgICAgICAgICAgICAgICAgICAgLy9ib3R0b20gdGlsZSwgdW5sZXNzIHRoZXJlJ3Mgbm8gYm90dG9tIHRpbGUsIHRoZW4gc3RyaWtlIHRpbGUgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeSArIDEpIDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCB4LCB5ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoeCArIDEpIDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCB4ICsgMSwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCB4IC0gMSwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vSWYgaGl0IGxhbmRzLCBhdHRhY2sgYWRqYWNlbnQgYm90dG9tIHRpbGUsIHVubGVzcyB0aGVyZSdzIG5vIGJvdHRvbSB0aWxlLCB0aGVuIHN0cmlrZVxuICAgICAgICAgICAgICAgICAgICAvL2FkamFjZW50IHRpbGUgdG8gcmlnaHQsIHVubGVzcyB0aGVyZSdzIG5vIHRpbGUgdG8gcmlnaHQsIHRoZW4gc3RyaWtlIHRpbGUgdG8gbGVmdFxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4ICsgMSkgPCAxMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgeCArIDEsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHkgKyAxKSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgeCwgeSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgeCwgeSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gcGxheWVyLmVuZW15TW92ZSgpO1xuICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgY29vcmRpbmF0ZXNbMF0sIGNvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICB9O1xufTtcblxuZXhwb3J0IHtcbiAgICBhdGtMaXN0ZW5lcixcbn0iLCJpbXBvcnQge3JlbmRlckdCb2FyZCwgZGVSZW5kZXJ9IGZyb20gJy4vcmVuZGVyJztcbmNvbnN0IHN0YXJ0ID0gKHBsYXllcjEsIHBsYXllcjIpID0+IHtcblxuICAgIGNvbnN0IGdhbWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZUNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGNvbnRhaW5lcjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGFpbmVyMicpO1xuICAgIGNvbnN0IGdhbWVyVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVyVGFnJyk7XG4gICAgY29uc3QgY29tcHV0ZXJUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29tcHV0ZXJUYWcnKTtcbiAgICBjb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGFydEJ0bicpO1xuICAgIGNvbnN0IGFsaWduQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FsaWduQnRuJyk7XG5cbiAgICBkZVJlbmRlcigpO1xuICAgIHJlbmRlckdCb2FyZChwbGF5ZXIxLmJvYXJkLmdhbWVCb2FyZCwgMSk7XG4gICAgcGxheWVyMi5ib2FyZC5wbGFjZUhvcml6b250YWwoOCwgMSwgNSwgJ0NhcnJpZXInKTtcbiAgICBwbGF5ZXIyLmJvYXJkLnBsYWNlVmVydCgzLCA3LCA0LCAnQmF0dGxlc2hpcCcpO1xuICAgIHBsYXllcjIuYm9hcmQucGxhY2VWZXJ0KDQsIDMsIDMsICdEZXN0cm95ZXInKTtcbiAgICBwbGF5ZXIyLmJvYXJkLnBsYWNlSG9yaXpvbnRhbCgxLCAxLCAzLCAnU3VibWFyaW5lJyk7XG4gICAgcGxheWVyMi5ib2FyZC5wbGFjZVZlcnQoMSwgOSwgMiwgJ1BhdHJvbGJvYXQnKTtcbiAgICByZW5kZXJHQm9hcmQocGxheWVyMi5ib2FyZC5nYW1lQm9hcmQsIDIpO1xuICAgIGdhbWVDb250YWluZXIuc3R5bGUuZ2FwID0gJzE3JSc7XG4gICAgY29udGFpbmVyMi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGdhbWVyVGFnLnN0eWxlLmdhcCA9ICcxMCUnO1xuICAgIGNvbXB1dGVyVGFnLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgc3RhcnRCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBhbGlnbkJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIFxufVxuXG5jb25zdCBhbGlnbiA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJyaWVyRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDYXJyaWVyJyk7XG4gICAgY29uc3QgYmF0dGxlRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNCYXR0bGVzaGlwJyk7XG4gICAgY29uc3QgZGVzdHJEcmFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0Rlc3Ryb3llcicpO1xuICAgIGNvbnN0IHN1YkRyYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU3VibWFyaW5lJyk7XG4gICAgY29uc3QgcGF0cm9sRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQYXRyb2xib2F0Jyk7XG5cbiAgICBpZiAoY2FycmllckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9PT0gJ3Jvdycpe1xuICAgICAgICBjYXJyaWVyRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgIGJhdHRsZURyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICBkZXN0ckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICBzdWJEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICAgICAgcGF0cm9sRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgIGNhcnJpZXJEcmFnLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbm1lbnQnLCAnY29sdW1uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2FycmllckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xuICAgICAgICBiYXR0bGVEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgZGVzdHJEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgc3ViRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgIHBhdHJvbERyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xuICAgICAgICBjYXJyaWVyRHJhZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpZ25tZW50JywgJ3JvdycpO1xuICAgIH1cbn1cblxuY29uc3Qgb25EcmFnU3RhcnQgPSAoZSkgPT4ge1xuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBlLnRhcmdldC5pZCk7XG4gICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG59XG5cbmV4cG9ydCB7IFxuICAgIHN0YXJ0LFxuICAgIGFsaWduLFxuICAgIG9uRHJhZ1N0YXJ0LFxuIH07IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXJGYWN0b3J5JztcbmltcG9ydCB7IHJlbmRlckdCb2FyZCwgcGxhY2VQaWVjZXMgfSBmcm9tICcuL3JlbmRlcic7XG5pbXBvcnQgeyBhdGtMaXN0ZW5lciB9IGZyb20gJy4vYXR0YWNrcyc7XG5pbXBvcnQgeyBzdGFydCwgYWxpZ24sIG9uRHJhZ1N0YXJ0IH0gZnJvbSAnLi9ldmVudExpc3RlbmVycyc7XG5cbmNvbnN0IGdhbWUgPSAoKSA9PiB7XG5cbiAgICBjb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGFydEJ0bicpO1xuICAgIGNvbnN0IGFsaWduQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FsaWduQnRuJyk7XG4gICAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzZXRCdG4nKTtcbiAgICBjb25zdCBjYXJyaWVyRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDYXJyaWVyJyk7XG4gICAgY29uc3QgYmF0dGxlRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNCYXR0bGVzaGlwJyk7XG4gICAgY29uc3QgZGVzdHJEcmFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0Rlc3Ryb3llcicpO1xuICAgIGNvbnN0IHN1YkRyYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU3VibWFyaW5lJyk7XG4gICAgY29uc3QgcGF0cm9sRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQYXRyb2xib2F0Jyk7XG4gICAgY2FycmllckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xuICAgIGNhcnJpZXJEcmFnLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbm1lbnQnLCAncm93Jyk7XG5cbiAgICBjb25zdCBwbGF5ZXJBcnIgPSBbXG4gICAgICAgIFBsYXllcihcInBsYXllcjFcIiwgdHJ1ZSksXG4gICAgICAgIFBsYXllcihcImNvbXB1dGVyXCIsIGZhbHNlKVxuICAgIF07XG5cbiAgICBjYXJyaWVyRHJhZy5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCk7XG4gICAgYmF0dGxlRHJhZy5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCk7XG4gICAgZGVzdHJEcmFnLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KTtcbiAgICBzdWJEcmFnLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KTtcbiAgICBwYXRyb2xEcmFnLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KTtcblxuICAgIHJlbmRlckdCb2FyZChwbGF5ZXJBcnJbMF0uYm9hcmQuZ2FtZUJvYXJkLCAxKTtcblxuICAgIGFsaWduQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWxpZ24pO1xuXG4gICAgcGxhY2VQaWVjZXMocGxheWVyQXJyWzBdKTtcblxuICAgIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc3RhcnQocGxheWVyQXJyWzBdLCBwbGF5ZXJBcnJbMV0pO1xuICAgICAgICBhdGtMaXN0ZW5lcihwbGF5ZXJBcnJbMF0sIHBsYXllckFyclsxXSwgMik7XG4gICAgfSk7XG5cbiAgICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9KVxuXG59O1xuXG5leHBvcnQgeyBnYW1lIH07IiwiaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vZ2FtZSc7XG5cbmdhbWUoKTsiXSwibmFtZXMiOlsic2hpcEZhY3RvcnkiLCJsZW5ndGgiLCJzaGlwIiwiaGl0IiwicG9zIiwiaXNTdW5rIiwiY291bnQiLCJzdW5rIiwiZm9yRWFjaCIsIml0ZW0iLCJQbGF5ZXIiLCJuYW1lIiwiaXNBY3RpdmUiLCJjYXJyaWVyIiwiYmF0dGxlc2hpcCIsImRlc3Ryb3llciIsInN1Ym1hcmluZSIsInBhdHJvbEJvYXQiLCJzdGF0ZSIsInRvZ2dsZSIsImJvYXJkIiwiZ2FtZUJvYXJkIiwiaSIsImoiLCJoYXNTaGlwIiwiaXNTaG90Iiwic2hpcExlbmd0aCIsInNoaXBUeXBlIiwieFBvaW50IiwieVBvaW50IiwicGxhY2VIb3Jpem9udGFsIiwieCIsInkiLCJwbGFjZVZlcnQiLCJyZWNlaXZlQXR0YWNrIiwiYWxsU2hpcHNTdW5rIiwiYXJyIiwiZmlsdGVyIiwic2hpcHMiLCJzY291dCIsImFsaWdubWVudCIsInJlcG9ydCIsImdhbWVCb2FyZEZhY3RvcnkiLCJlbmVteU1vdmUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJmbGFnIiwicmVuZGVyR0JvYXJkIiwibnVtIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicm93MSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyb3cyIiwicm93MyIsInJvdzQiLCJyb3c1Iiwicm93NiIsInJvdzciLCJyb3c4Iiwicm93OSIsInJvdzEwIiwiaW5kZXgiLCJzdWJpdGVtIiwic3ViaW5kZXgiLCJzcXVhcmVEaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImdldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwid2luTXNnIiwic3RyaW5nIiwiYnRuQ29udGFpbmVyIiwid2luQ29udGFpbmVyIiwicmVzZXRCdG4iLCJ3aW5uZXJEaXYiLCJ0ZXh0Q29udGVudCIsImRpc3BsYXkiLCJlbmVteUF0dGFjayIsInBsYXllciIsImVuZW15IiwicGFuZWwiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibWVzc2FnZSIsImNvb3JkaW5hdGVzIiwiYWxpZ24iLCJjYXJyaWVyRHJhZyIsImJhdHRsZURyYWciLCJkZXN0ckRyYWciLCJzdWJEcmFnIiwicGF0cm9sRHJhZyIsImZsZXhEaXJlY3Rpb24iLCJvbkRyYWdTdGFydCIsImUiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwidGFyZ2V0IiwiaWQiLCJjdXJyZW50VGFyZ2V0Iiwic3RhcnRCdG4iLCJhbGlnbkJ0biIsInBsYXllckFyciIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1c2VyIiwib25EcmFnT3ZlciIsInByZXZlbnREZWZhdWx0Iiwib25Ecm9wIiwicGFyc2VJbnQiLCJkYXRhIiwiZ2V0RGF0YSIsImJhdHRsZVNoaXAiLCJzdWJNYXJpbmUiLCJwYXRyb2xCIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNwb25zZSIsInBsYWNlUGllY2VzIiwicGxheWVyMSIsInBsYXllcjIiLCJnYW1lQ29udGFpbmVyIiwiY29udGFpbmVyMiIsImdhbWVyVGFnIiwiY29tcHV0ZXJUYWciLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkZVJlbmRlciIsImdhcCIsInN0YXJ0IiwiYXRrTGlzdGVuZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImdhbWUiXSwic291cmNlUm9vdCI6IiJ9