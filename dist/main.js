(()=>{"use strict";const t=t=>{const e=[];return{ship:e,length:t,hit:t=>e[t]="hit",isSunk:()=>{let i=0,r=!1;return e.forEach((function(t){"hit"===t&&(i+=1)})),r=i===t,r}}},e=(e,i=!1)=>{let r=t(5),a=t(4),d=t(3),o=t(3),l=t(2),n={name:e,isActive:i};return{get name(){return n.name},get isActive(){return n.isActive},toggle(){n.isActive=!n.isActive},board:(()=>{let t=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];for(let e=0;e<10;e++)for(let i=0;i<10;i++)t[e][i]={hasShip:!1,isShot:!1,shipLength:0,shipType:"n/a",xPoint:0,yPoint:0};return{gameBoard:t,placeShip:(e,i,r,a)=>{for(let d=0;d<r;d++)t[e][i].hasShip=!0,t[e][i].shipLength=r,t[e][i].shipType=a,t[e][i].xPoint=e,t[e][i].yPoint=i,i+=1;return t},receiveAttack:(e,i)=>!0===t[e][i].hasShip?(t[e][i].isShot=!0,"Hit"):(t[e][i].isShot=!0,t),allShipsSunk:t=>t.filter((t=>t.isSunk())).length===t.length}})(),ships:[r,a,d,o,l]}},i=(t,e)=>{let i=document.querySelector(`#container${e}`),r=document.createElement("div");r.setAttribute("id","row1");let a=document.createElement("div");a.setAttribute("id","row2");let d=document.createElement("div");d.setAttribute("id","row3");let o=document.createElement("div");o.setAttribute("id","row4");let l=document.createElement("div");l.setAttribute("id","row5");let n=document.createElement("div");n.setAttribute("id","row6");let h=document.createElement("div");h.setAttribute("id","row7");let p=document.createElement("div");p.setAttribute("id","row8");let s=document.createElement("div");s.setAttribute("id","row9");let u=document.createElement("div");u.setAttribute("id","row10"),t.forEach((function(t,c){t.forEach((function(t,g){let b=document.createElement("div");b.setAttribute("id",`squareDiv${c}${g}`),b.setAttribute("data-y-coord",c),b.setAttribute("data-x-coord",g),b.setAttribute("data-has-ship",t.hasShip),b.setAttribute("data-ship-length",t.shipLength),b.setAttribute("data-ship-type",t.shipType),b.setAttribute("data-is-shot",t.isShot),b.classList.add(`atkDiv${e}`),b.textContent=t.hasShip;for(let t=0;t<10;t++)b.getAttribute("id")==`squareDiv0${t}`?r.appendChild(b):b.getAttribute("id")==`squareDiv1${t}`?a.appendChild(b):b.getAttribute("id")==`squareDiv2${t}`?d.appendChild(b):b.getAttribute("id")==`squareDiv3${t}`?o.appendChild(b):b.getAttribute("id")==`squareDiv4${t}`?l.appendChild(b):b.getAttribute("id")==`squareDiv5${t}`?n.appendChild(b):b.getAttribute("id")==`squareDiv6${t}`?h.appendChild(b):b.getAttribute("id")==`squareDiv7${t}`?p.appendChild(b):b.getAttribute("id")==`squareDiv8${t}`?s.appendChild(b):b.getAttribute("id")==`squareDiv9${t}`&&u.appendChild(b);i.appendChild(r),i.appendChild(a),i.appendChild(d),i.appendChild(o),i.appendChild(l),i.appendChild(n),i.appendChild(h),i.appendChild(p),i.appendChild(s),i.appendChild(u)}))}))},r=(t,e,i)=>{let r,a,d,o,l,n=t.board,h=t.ships,p=document.getElementsByClassName(`atkDiv${i}`),s=0,u=0,c=0,g=0,b=0;for(let i=0;i<p.length;i++)p[i].addEventListener("click",(function(i){!0===t.isActive&&(r=i.target.getAttribute("data-is-shot"),console.log(r),a=i.target.getAttribute("data-y-coord"),d=i.target.getAttribute("data-y-coord"),o=n.gameBoard[d][a].shipLength,l=n.gameBoard[d][a].shipType,"true"===i.target.getAttribute("data-has-ship")?i.target.style.backgroundColor="red":i.target.style.backgroundColor="grey",n.receiveAttack(d,a),"Carrier"==l?(h.filter((t=>t.length==o))[0].hit(s),s+=1):"Battleship"==l?(h.filter((t=>t.length==o))[0].hit(u),u+=1):"Destroyer"==l?(h.filter((t=>t.length==o))[0].hit(c),c+=1):"Submarine"==l?(h.filter((t=>t.length==o))[1].hit(g),g+=1):"Patrolboat"==l&&(h.filter((t=>t.length==o))[0].hit(b),b+=1),t.toggle(),e.toggle(),console.log(n.gameBoard[d][a]))}))};(()=>{const t=[e("player1",!0),e("computer",!1)];t[0].board.placeShip(2,2,5,"Carrier"),t[0].board.placeShip(8,0,4,"Battleship"),t[0].board.placeShip(6,7,3,"Destroyer"),t[0].board.placeShip(5,1,3,"Submarine"),t[0].board.placeShip(1,7,2,"Patrolboat"),console.log(t[0].board.gameBoard),i(t[0].board.gameBoard,1),t[1].board.placeShip(8,1,5,"Carrier"),t[1].board.placeShip(3,5,4,"Battleship"),t[1].board.placeShip(6,3,3,"Destroyer"),t[1].board.placeShip(1,1,3,"Submarine"),t[1].board.placeShip(0,6,2,"Patrolboat"),console.log(t[1].board.gameBoard),i(t[1].board.gameBoard,2),r(t[0],t[1],1),r(t[1],t[0],2)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRLEdBRVpSLEVBQU8vQyxTQUNQZ0QsRUFBTWhELFNBQ04yRCxRQUFRQyxJQUFJMUQsRUFBVUEsVUFBVU8sR0FBUUMsU0NsSTNDLE1BS1QsTUFBTXFELEVBQVksQ0FDZHhFLEVBQU8sV0FBVyxHQUNsQkEsRUFBTyxZQUFZLElBR3ZCd0UsRUFBVSxHQUFHOUQsTUFBTVUsVUFBVSxFQUFHLEVBQUcsRUFBRyxXQUN0Q29ELEVBQVUsR0FBRzlELE1BQU1VLFVBQVUsRUFBRyxFQUFHLEVBQUcsY0FDdENvRCxFQUFVLEdBQUc5RCxNQUFNVSxVQUFVLEVBQUcsRUFBRyxFQUFHLGFBQ3RDb0QsRUFBVSxHQUFHOUQsTUFBTVUsVUFBVSxFQUFHLEVBQUcsRUFBRyxhQUN0Q29ELEVBQVUsR0FBRzlELE1BQU1VLFVBQVUsRUFBRyxFQUFHLEVBQUcsY0FDdENnRCxRQUFRQyxJQUFJRyxFQUFVLEdBQUc5RCxNQUFNQyxXQUMvQmtCLEVBQWEyQyxFQUFVLEdBQUc5RCxNQUFNQyxVQUFXLEdBRTNDNkQsRUFBVSxHQUFHOUQsTUFBTVUsVUFBVSxFQUFHLEVBQUcsRUFBRyxXQUN0Q29ELEVBQVUsR0FBRzlELE1BQU1VLFVBQVUsRUFBRyxFQUFHLEVBQUcsY0FDdENvRCxFQUFVLEdBQUc5RCxNQUFNVSxVQUFVLEVBQUcsRUFBRyxFQUFHLGFBQ3RDb0QsRUFBVSxHQUFHOUQsTUFBTVUsVUFBVSxFQUFHLEVBQUcsRUFBRyxhQUN0Q29ELEVBQVUsR0FBRzlELE1BQU1VLFVBQVUsRUFBRyxFQUFHLEVBQUcsY0FDdENnRCxRQUFRQyxJQUFJRyxFQUFVLEdBQUc5RCxNQUFNQyxXQUMvQmtCLEVBQWEyQyxFQUFVLEdBQUc5RCxNQUFNQyxVQUFXLEdBRTNDNEMsRUFBWWlCLEVBQVUsR0FBSUEsRUFBVSxHQUFJLEdBQ3hDakIsRUFBWWlCLEVBQVUsR0FBSUEsRUFBVSxHQUFJLElDNUI1Q0MsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZUJvYXJkRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NoaXBGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3JlbmRlci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaGlwRmFjdG9yeSB9IGZyb20gJy4vc2hpcEZhY3RvcnknO1xuXG5jb25zdCBnYW1lQm9hcmRGYWN0b3J5ID0gKCkgPT4ge1xuICAgIGxldCBnYW1lQm9hcmQgPSBbXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgIF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKXtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKXtcbiAgICAgICAgICAgIGdhbWVCb2FyZFtpXVtqXSA9ICh7aGFzU2hpcDogZmFsc2UsIGlzU2hvdDogZmFsc2UsIHNoaXBMZW5ndGg6IDAsIHNoaXBUeXBlOiAnbi9hJywgeFBvaW50OiAwLCB5UG9pbnQ6IDB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG5cbiAgICBjb25zdCBwbGFjZVNoaXAgPSAoeCwgeSwgc2hpcExlbmd0aCwgc2hpcFR5cGUpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLmhhc1NoaXAgPSB0cnVlO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnNoaXBMZW5ndGggPSBzaGlwTGVuZ3RoO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnNoaXBUeXBlID0gc2hpcFR5cGU7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0ueFBvaW50ID0geDtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS55UG9pbnQgPSB5O1xuICAgICAgICAgICAgeSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYW1lQm9hcmQ7XG4gICAgfVxuXG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgICAgIGlmIChnYW1lQm9hcmRbeF1beV0uaGFzU2hpcCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uaXNTaG90ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAnSGl0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5pc1Nob3QgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGdhbWVCb2FyZDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoYXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1bmtlblNoaXBzID0gYXJyLmZpbHRlcihzaGlwcyA9PiBzaGlwcy5pc1N1bmsoKSk7XG4gICAgICAgIGlmIChzdW5rZW5TaGlwcy5sZW5ndGggPT09IGFyci5sZW5ndGgpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVCb2FyZCxcbiAgICAgICAgcGxhY2VTaGlwLFxuICAgICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgICBhbGxTaGlwc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgZ2FtZUJvYXJkRmFjdG9yeSB9OyIsIlxuY29uc3Qgc2hpcEZhY3RvcnkgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3Qgc2hpcCA9IFtdO1xuXG4gICAgY29uc3QgaGl0ID0gKHBvcykgPT4gc2hpcFtwb3NdID0gJ2hpdCc7XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBzdW5rID0gZmFsc2U7XG5cbiAgICAgICAgc2hpcC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT09ICdoaXQnKXtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvdW50ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHN1bmsgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VuayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bms7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNoaXAsXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgaGl0LFxuICAgICAgICBpc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgc2hpcEZhY3RvcnkgfTsiLCJpbXBvcnQgeyBnYW1lQm9hcmRGYWN0b3J5IH0gZnJvbSAnLi9nYW1lQm9hcmRGYWN0b3J5JztcbmltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IFBsYXllciA9IChuYW1lLCBpc0FjdGl2ZSA9IGZhbHNlKSA9PiB7XG5cbiAgICBsZXQgY2FycmllciA9IHNoaXBGYWN0b3J5KDUpO1xuICAgIGxldCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCk7XG4gICAgbGV0IGRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KDMpO1xuICAgIGxldCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzKTtcbiAgICBsZXQgcGF0cm9sQm9hdCA9IHNoaXBGYWN0b3J5KDIpO1xuICAgIFxuICAgIGxldCBzdGF0ZSA9IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgfVxuXG4gICAgbGV0IGJvYXJkID0gZ2FtZUJvYXJkRmFjdG9yeSgpO1xuXG4gICAgbGV0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGRlc3Ryb3llciwgc3VibWFyaW5lLCBwYXRyb2xCb2F0XTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldCBuYW1lKCl7cmV0dXJuIHN0YXRlLm5hbWU7fSxcbiAgICAgICAgZ2V0IGlzQWN0aXZlKCl7cmV0dXJuIHN0YXRlLmlzQWN0aXZlO30sXG4gICAgICAgIHRvZ2dsZSgpeyBzdGF0ZS5pc0FjdGl2ZSA9ICFzdGF0ZS5pc0FjdGl2ZTt9LFxuICAgICAgICBib2FyZCxcbiAgICAgICAgc2hpcHMsXG4gICAgfVxufTtcblxuZXhwb3J0IHsgUGxheWVyIH07IiwiY29uc3QgcmVuZGVyR0JvYXJkID0gKGdhbWVCb2FyZCwgbnVtKSA9PiB7XG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjb250YWluZXIke251bX1gKTtcbiAgICBsZXQgcm93MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzEuc2V0QXR0cmlidXRlKCdpZCcsICdyb3cxJyk7XG4gICAgbGV0IHJvdzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3cyLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MicpO1xuICAgIGxldCByb3czID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93My5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzMnKTtcbiAgICBsZXQgcm93NCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzQuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c0Jyk7XG4gICAgbGV0IHJvdzUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c1LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93NScpO1xuICAgIGxldCByb3c2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93Ni5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzYnKTtcbiAgICBsZXQgcm93NyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzcuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c3Jyk7XG4gICAgbGV0IHJvdzggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c4LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93OCcpO1xuICAgIGxldCByb3c5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93OS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzknKTtcbiAgICBsZXQgcm93MTAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3cxMC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzEwJyk7XG5cbiAgICBnYW1lQm9hcmQuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICBpdGVtLmZvckVhY2goZnVuY3Rpb24oc3ViaXRlbSwgc3ViaW5kZXgpIHtcbiAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgYHNxdWFyZURpdiR7aW5kZXh9JHtzdWJpbmRleH1gKTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEteS1jb29yZCcsIGluZGV4KTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEteC1jb29yZCcsIHN1YmluZGV4KTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzLXNoaXAnLCBzdWJpdGVtLmhhc1NoaXApO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1zaGlwLWxlbmd0aCcsIHN1Yml0ZW0uc2hpcExlbmd0aCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXNoaXAtdHlwZScsIHN1Yml0ZW0uc2hpcFR5cGUpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1pcy1zaG90Jywgc3ViaXRlbS5pc1Nob3QpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LmNsYXNzTGlzdC5hZGQoYGF0a0RpdiR7bnVtfWApO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnRleHRDb250ZW50ID0gc3ViaXRlbS5oYXNTaGlwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Mi5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MiR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93My5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2MyR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93NC5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93NS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Ni5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NiR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Ny5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2NyR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93OC5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2OCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93OS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBgc3F1YXJlRGl2OSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MTAuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93MSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Mik7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Myk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93NCk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93NSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Nik7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93Nyk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93OCk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93OSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93MTApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGF0a0xpc3RlbmVyID0gKHBsYXllciwgZW5lbXksIG51bSkgPT4ge1xuICAgIGxldCBnYW1lQm9hcmQgPSBwbGF5ZXIuYm9hcmQ7XG4gICAgbGV0IHNoaXBzID0gcGxheWVyLnNoaXBzO1xuICAgIGxldCByZXNwb25zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYGF0a0RpdiR7bnVtfWApO1xuICAgIGxldCBpc1Nob3Q7XG4gICAgbGV0IHlQb2ludDtcbiAgICBsZXQgeFBvaW50O1xuICAgIGxldCBzaGlwTGVuZ3RoO1xuICAgIGxldCBzaGlwVHlwZTtcbiAgICBsZXQgcG9zNSA9IDA7XG4gICAgbGV0IHBvczQgPSAwO1xuICAgIGxldCBwb3MzID0gMDtcbiAgICBsZXQgcG9zMiA9IDA7XG4gICAgbGV0IHBvczEgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHJlc3BvbnNlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKHBsYXllci5pc0FjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlzU2hvdCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pcy1zaG90Jyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXNTaG90KTtcbiAgICAgICAgICAgICAgICB5UG9pbnQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteS1jb29yZCcpO1xuICAgICAgICAgICAgICAgIHhQb2ludCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS15LWNvb3JkJyk7XG4gICAgICAgICAgICAgICAgc2hpcExlbmd0aCA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdLnNoaXBMZW5ndGg7XG4gICAgICAgICAgICAgICAgc2hpcFR5cGUgPSBnYW1lQm9hcmQuZ2FtZUJvYXJkW3hQb2ludF1beVBvaW50XS5zaGlwVHlwZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWhhcy1zaGlwJykgPT09ICd0cnVlJyl7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmV5JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FtZUJvYXJkLnJlY2VpdmVBdHRhY2soeFBvaW50LCB5UG9pbnQpO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChzaGlwVHlwZSA9PSAnQ2FycmllcicpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KHBvczUpO1xuICAgICAgICAgICAgICAgICAgICBwb3M1ICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnQmF0dGxlc2hpcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KHBvczQpO1xuICAgICAgICAgICAgICAgICAgICBwb3M0ICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnRGVzdHJveWVyJykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocG9zMyk7XG4gICAgICAgICAgICAgICAgICAgICBwb3MzICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnU3VibWFyaW5lJykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFsxXS5oaXQocG9zMik7XG4gICAgICAgICAgICAgICAgICAgIHBvczIgKz0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdQYXRyb2xib2F0Jykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocG9zMSk7XG4gICAgICAgICAgICAgICAgICAgIHBvczEgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxheWVyLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgIGVuZW15LnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5cbmV4cG9ydCB7IFxuXG4gICAgcmVuZGVyR0JvYXJkLFxuICAgIGF0a0xpc3RlbmVyLFxuIH07IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXJGYWN0b3J5JztcbmltcG9ydCB7IHJlbmRlckdCb2FyZCwgYXRrTGlzdGVuZXIgfSBmcm9tICcuL3JlbmRlcic7XG5cbmNvbnN0IGdhbWUgPSAoKSA9PiB7XG5cbiAgICAvL2NyZWF0ZSBwbGF5ZXIgYW5kIGNvbXB1dGVyIHBsYXllclxuICAgIC8vcG9wdWxhdGUgZ2FtZWJvYXJkcyBmb3IgYm90aCBwbGF5ZXJzXG5cbiAgICBjb25zdCBwbGF5ZXJBcnIgPSBbXG4gICAgICAgIFBsYXllcihcInBsYXllcjFcIiwgdHJ1ZSksXG4gICAgICAgIFBsYXllcihcImNvbXB1dGVyXCIsIGZhbHNlKVxuICAgIF07XG5cbiAgICBwbGF5ZXJBcnJbMF0uYm9hcmQucGxhY2VTaGlwKDIsIDIsIDUsICdDYXJyaWVyJyk7XG4gICAgcGxheWVyQXJyWzBdLmJvYXJkLnBsYWNlU2hpcCg4LCAwLCA0LCAnQmF0dGxlc2hpcCcpO1xuICAgIHBsYXllckFyclswXS5ib2FyZC5wbGFjZVNoaXAoNiwgNywgMywgJ0Rlc3Ryb3llcicpO1xuICAgIHBsYXllckFyclswXS5ib2FyZC5wbGFjZVNoaXAoNSwgMSwgMywgJ1N1Ym1hcmluZScpO1xuICAgIHBsYXllckFyclswXS5ib2FyZC5wbGFjZVNoaXAoMSwgNywgMiwgJ1BhdHJvbGJvYXQnKTtcbiAgICBjb25zb2xlLmxvZyhwbGF5ZXJBcnJbMF0uYm9hcmQuZ2FtZUJvYXJkKTtcbiAgICByZW5kZXJHQm9hcmQocGxheWVyQXJyWzBdLmJvYXJkLmdhbWVCb2FyZCwgMSk7XG5cbiAgICBwbGF5ZXJBcnJbMV0uYm9hcmQucGxhY2VTaGlwKDgsIDEsIDUsICdDYXJyaWVyJyk7XG4gICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlU2hpcCgzLCA1LCA0LCAnQmF0dGxlc2hpcCcpO1xuICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZVNoaXAoNiwgMywgMywgJ0Rlc3Ryb3llcicpO1xuICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZVNoaXAoMSwgMSwgMywgJ1N1Ym1hcmluZScpO1xuICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZVNoaXAoMCwgNiwgMiwgJ1BhdHJvbGJvYXQnKTtcbiAgICBjb25zb2xlLmxvZyhwbGF5ZXJBcnJbMV0uYm9hcmQuZ2FtZUJvYXJkKTtcbiAgICByZW5kZXJHQm9hcmQocGxheWVyQXJyWzFdLmJvYXJkLmdhbWVCb2FyZCwgMik7XG5cbiAgICBhdGtMaXN0ZW5lcihwbGF5ZXJBcnJbMF0sIHBsYXllckFyclsxXSwgMSk7XG4gICAgYXRrTGlzdGVuZXIocGxheWVyQXJyWzFdLCBwbGF5ZXJBcnJbMF0sIDIpO1xuXG4gICAgLy9OZWVkIHRvIGltcGxlbWVudCBsb2dpYyB3aGljaCBkb2Vzbid0IGFsbG93IGEgcGxheWVyIHRvIHJlc2VsZWN0IGEgc3F1YXJlIHRoZXkgaGF2ZSBhbHJlYWR5IGNsaWNrZWQgb25cblxufTtcblxuZXhwb3J0IHsgZ2FtZSB9OyIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL2dhbWUnO1xuXG5nYW1lKCk7Il0sIm5hbWVzIjpbInNoaXBGYWN0b3J5IiwibGVuZ3RoIiwic2hpcCIsImhpdCIsInBvcyIsImlzU3VuayIsImNvdW50Iiwic3VuayIsImZvckVhY2giLCJpdGVtIiwiUGxheWVyIiwibmFtZSIsImlzQWN0aXZlIiwiY2FycmllciIsImJhdHRsZXNoaXAiLCJkZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJwYXRyb2xCb2F0Iiwic3RhdGUiLCJ0b2dnbGUiLCJib2FyZCIsImdhbWVCb2FyZCIsImkiLCJqIiwiaGFzU2hpcCIsImlzU2hvdCIsInNoaXBMZW5ndGgiLCJzaGlwVHlwZSIsInhQb2ludCIsInlQb2ludCIsInBsYWNlU2hpcCIsIngiLCJ5IiwicmVjZWl2ZUF0dGFjayIsImFsbFNoaXBzU3VuayIsImFyciIsImZpbHRlciIsInNoaXBzIiwiZ2FtZUJvYXJkRmFjdG9yeSIsInJlbmRlckdCb2FyZCIsIm51bSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJvdzEiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwicm93MiIsInJvdzMiLCJyb3c0Iiwicm93NSIsInJvdzYiLCJyb3c3Iiwicm93OCIsInJvdzkiLCJyb3cxMCIsImluZGV4Iiwic3ViaXRlbSIsInN1YmluZGV4Iiwic3F1YXJlRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJnZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImF0a0xpc3RlbmVyIiwicGxheWVyIiwiZW5lbXkiLCJyZXNwb25zZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwb3M1IiwicG9zNCIsInBvczMiLCJwb3MyIiwicG9zMSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwicGxheWVyQXJyIiwiZ2FtZSJdLCJzb3VyY2VSb290IjoiIn0=