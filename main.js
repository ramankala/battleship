(()=>{"use strict";const e=e=>{const t=[];return{ship:t,length:e,hit:e=>t[e]="hit",isSunk:()=>{let r=0,o=!1;return t.forEach((function(e){"hit"===e&&(r+=1)})),o=r===e,o}}},t=(t,r=!1)=>{let o=e(5),i=e(4),l=e(3),a=e(3),n=e(2),s={name:t,isActive:r};return{get name(){return s.name},get isActive(){return s.isActive},toggle(){s.isActive=!s.isActive},board:(()=>{let e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];for(let t=0;t<10;t++)for(let r=0;r<10;r++)e[t][r]={hasShip:!1,isShot:!1,shipLength:0,shipType:"n/a",xPoint:0,yPoint:0};return{gameBoard:e,placeHorizontal:(t,r,o,i)=>{for(let l=0;l<o;l++)e[t][r].hasShip=!0,e[t][r].shipLength=o,e[t][r].shipType=i,e[t][r].xPoint=t,e[t][r].yPoint=r,r+=1;return e},placeVert:(t,r,o,i)=>{for(let l=0;l<o;l++)e[t][r].hasShip=!0,e[t][r].shipLength=o,e[t][r].shipType=i,e[t][r].xPoint=t,e[t][r].yPoint=r,t+=1;return e},receiveAttack:(t,r)=>!0===e[t][r].hasShip?(e[t][r].isShot=!0,"Hit"):(e[t][r].isShot=!0,e),allShipsSunk:e=>e.filter((e=>e.isSunk())).length===e.length,scout:(t,r,o,i)=>{let l=!1;if("row"===i)for(let i=0;i<o;i++)!0===e[t][r].hasShip&&(l=!0),r+=1;else for(let i=0;i<o;i++)!0===e[t][r].hasShip&&(l=!0),t+=1;return l}}})(),ships:[o,i,l,a,n],enemyMove:()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],pos5:0,pos4:0,pos3:0,pos2:0,pos1:0,flag:[!1,!1,!1,!1,!1]}},r=(e,t)=>{let r=document.querySelector(`#container${t}`),o=document.createElement("div");o.setAttribute("id","row1");let i=document.createElement("div");i.setAttribute("id","row2");let l=document.createElement("div");l.setAttribute("id","row3");let a=document.createElement("div");a.setAttribute("id","row4");let n=document.createElement("div");n.setAttribute("id","row5");let s=document.createElement("div");s.setAttribute("id","row6");let d=document.createElement("div");d.setAttribute("id","row7");let c=document.createElement("div");c.setAttribute("id","row8");let u=document.createElement("div");u.setAttribute("id","row9");let p=document.createElement("div");p.setAttribute("id","row10"),e.forEach((function(e,g){e.forEach((function(e,h){let m=document.createElement("div");m.setAttribute("id",`squareDiv${g}${h}`),m.setAttribute("data-y-coord",h),m.setAttribute("data-x-coord",g),m.setAttribute("data-has-ship",e.hasShip),m.setAttribute("data-is-shot",e.isShot),m.classList.add(`atkDiv${t}`),!1===e.hasShip&&1===t?m.style.backgroundColor="rgb(179, 196, 250)":!0===e.hasShip&&1===t&&(m.style.backgroundColor="green"),m.textContent="";for(let e=0;e<10;e++)m.getAttribute("id")==`squareDiv0${e}`?o.appendChild(m):m.getAttribute("id")==`squareDiv1${e}`?i.appendChild(m):m.getAttribute("id")==`squareDiv2${e}`?l.appendChild(m):m.getAttribute("id")==`squareDiv3${e}`?a.appendChild(m):m.getAttribute("id")==`squareDiv4${e}`?n.appendChild(m):m.getAttribute("id")==`squareDiv5${e}`?s.appendChild(m):m.getAttribute("id")==`squareDiv6${e}`?d.appendChild(m):m.getAttribute("id")==`squareDiv7${e}`?c.appendChild(m):m.getAttribute("id")==`squareDiv8${e}`?u.appendChild(m):m.getAttribute("id")==`squareDiv9${e}`&&p.appendChild(m);r.appendChild(o),r.appendChild(i),r.appendChild(l),r.appendChild(a),r.appendChild(n),r.appendChild(s),r.appendChild(d),r.appendChild(c),r.appendChild(u),r.appendChild(p)}))}))},o=(e,t,r,l)=>{let a,n=e.board,s=e.ships,d=n.gameBoard[r][l].isShot,c=n.gameBoard[r][l].hasShip,u=n.gameBoard[r][l].shipLength,p=n.gameBoard[r][l].shipType;a=0===r?l:""+r+l;let g=document.getElementsByClassName("atkDiv1")[a];if(!0===t.isActive)if(!1===d){g.style.backgroundColor=!0===c?"red":"grey";let a=n.receiveAttack(r,l);if("Carrier"==p?(s.filter((e=>e.length==u))[0].hit(e.pos5),e.pos5+=1):"Battleship"==p?(s.filter((e=>e.length==u))[0].hit(e.pos4),e.pos4+=1):"Destroyer"==p?(s.filter((e=>e.length==u))[0].hit(e.pos3),e.pos3+=1):"Submarine"==p?(s.filter((e=>e.length==u))[1].hit(e.pos2),e.pos2+=1):"Patrolboat"==p&&(s.filter((e=>e.length==u))[0].hit(e.pos1),e.pos1+=1),!0===n.allShipsSunk(s))return void i("Computer");if(!0===t.board.allShipsSunk(t.ships))return void i("User");if("Hit"!==a)e.toggle(),t.toggle();else switch(Math.floor(2*Math.random())+1){case 1:l+1<10?o(e,t,r,l+1):o(e,t,r+1<10?r+1:r-1,l);case 2:r+1<10?o(e,t,r+1,l):o(e,t,r,l+1<10?l+1:l-1)}}else{let r=e.enemyMove();o(e,t,r[0],r[1])}},i=e=>{const t=document.querySelector("#btnContainer"),r=document.querySelector("#winContainer"),o=document.createElement("div");"Player"===e?o.textContent="Enemy fleet destroyed!":"Computer"===e&&(o.textContent="Your fleet was destroyed!"),t.style.display="none",r.appendChild(o)};(()=>{const e=document.querySelector("#startBtn"),l=document.querySelector("#alignBtn"),a=document.querySelector("#Carrier"),n=document.querySelector("#Battleship"),s=document.querySelector("#Destroyer"),d=document.querySelector("#Submarine"),c=document.querySelector("#Patrolboat");a.classList.add("horizontal"),n.classList.add("horizontal"),s.classList.add("horizontal"),d.classList.add("horizontal"),c.classList.add("horizontal"),a.style.flexDirection="row",a.setAttribute("data-alignment","row");const u=[t("player1",!0),t("computer",!1)],p=e=>{e.dataTransfer.setData("text/plain",e.target.id),e.currentTarget.style.backgroundColor="green"};a.addEventListener("dragstart",p),n.addEventListener("dragstart",p),s.addEventListener("dragstart",p),d.addEventListener("dragstart",p),c.addEventListener("dragstart",p),r(u[0].board.gameBoard,1),l.addEventListener("click",(function(){"row"===a.style.flexDirection?(a.style.flexDirection="column",n.style.flexDirection="column",s.style.flexDirection="column",d.style.flexDirection="column",c.style.flexDirection="column",a.setAttribute("data-alignment","column")):(a.style.flexDirection="row",n.style.flexDirection="row",s.style.flexDirection="row",d.style.flexDirection="row",c.style.flexDirection="row",a.setAttribute("data-alignment","row"))})),(e=>{let t=e.board;const r=e=>{e.preventDefault()},o=r=>{r.preventDefault();let o=parseInt(r.target.getAttribute("data-x-coord")),i=parseInt(r.target.getAttribute("data-y-coord")),l=r.dataTransfer.getData("text"),a=document.querySelector("#Carrier"),n=document.querySelector("#Battleship"),s=document.querySelector("#Destroyer"),d=document.querySelector("#Submarine"),c=document.querySelector("#Patrolboat"),u=a.getAttribute("data-alignment");if("Carrier"===l&&!1===t.scout(o,i,5,u)){if(e.flag[0]=!0,"row"===u){t.placeHorizontal(o,i,5,l);for(let e=0;e<5;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===u){t.placeVert(o,i,5,l);for(let e=0;e<5;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}a.style.display="none"}if("Battleship"===l&&!1===t.scout(o,i,4,u)){if(e.flag[1]=!0,"row"===u){t.placeHorizontal(o,i,4,l);for(let e=0;e<4;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===u){t.placeVert(o,i,4,l);for(let e=0;e<4;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}n.style.display="none"}if("Destroyer"===l&&!1===t.scout(o,i,3,u)){if(e.flag[2]=!0,"row"===u){t.placeHorizontal(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===u){t.placeVert(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}s.style.display="none"}if("Submarine"===l&&!1===t.scout(o,i,3,u)){if(e.flag[3]=!0,"row"===u){t.placeHorizontal(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===u){t.placeVert(o,i,3,l);for(let e=0;e<3;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}d.style.display="none"}if("Patrolboat"===l&&!1===t.scout(o,i,2,u)){if(e.flag[4]=!0,"row"===u){t.placeHorizontal(o,i,2,l);for(let e=0;e<2;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",i++}else if("column"===u){t.placeVert(o,i,2,l);for(let e=0;e<2;e++)document.getElementById(`squareDiv${o}${i}`).style.backgroundColor="green",o++}c.style.display="none"}5===e.flag.filter((e=>!0===e)).length&&(document.querySelector("#startBtn").style.display="flex")};let i=document.getElementsByClassName("atkDiv1");for(let e=0;e<i.length;e++)i[e].addEventListener("dragover",r),i[e].addEventListener("drop",o)})(u[0]),e.addEventListener("click",(function(){const t=document.querySelector("#gameContainer"),a=document.querySelector("#container2"),n=document.querySelector("#gamerTag"),s=document.querySelector("#computerTag");(()=>{let e=document.querySelector("#container1");for(;e.firstChild;)e.removeChild(e.firstChild)})(),r(u[0].board.gameBoard,1),u[1].board.placeHorizontal(8,1,5,"Carrier"),u[1].board.placeHorizontal(3,5,4,"Battleship"),u[1].board.placeHorizontal(6,3,3,"Destroyer"),u[1].board.placeHorizontal(1,1,3,"Submarine"),u[1].board.placeHorizontal(0,6,2,"Patrolboat"),r(u[1].board.gameBoard,2),t.style.gap="10%",a.style.display="flex",n.style.gap="10%",s.style.display="flex",e.style.display="none",l.style.display="none",((e,t,r)=>{let l,a,n,s,d,c=t.board,u=t.ships,p=document.getElementsByClassName("atkDiv2");for(let r=0;r<p.length;r++)p[r].addEventListener("click",(function(r){if(!0===e.isActive&&(a=r.target.getAttribute("data-y-coord"),n=r.target.getAttribute("data-x-coord"),l=c.gameBoard[n][a].isShot,s=c.gameBoard[n][a].shipLength,d=c.gameBoard[n][a].shipType,!1===l)){"true"===r.target.getAttribute("data-has-ship")?r.target.style.backgroundColor="red":r.target.style.backgroundColor="grey";let l=c.receiveAttack(n,a);if("Carrier"==d?(u.filter((e=>e.length==s))[0].hit(t.pos5),t.pos5+=1):"Battleship"==d?(u.filter((e=>e.length==s))[0].hit(t.pos4),t.pos4+=1):"Destroyer"==d?(u.filter((e=>e.length==s))[0].hit(t.pos3),t.pos3+=1):"Submarine"==d?(u.filter((e=>e.length==s))[1].hit(t.pos2),t.pos2+=1):"Patrolboat"==d&&(u.filter((e=>e.length==s))[0].hit(t.pos1),t.pos1+=1),!0===c.allShipsSunk(u))return i("Player"),void e.toggle();if(!0===e.board.allShipsSunk(e.ships))return i("Computer"),void t.toggle();"Hit"!==l&&(e.toggle(),t.toggle());let p=e.enemyMove();o(e,t,p[0],p[1])}}))})(u[0],u[1])}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWErQyxFQUFPNUMsT0FHakMsT0FGQWlELEVBQU8saUJBQ1BKLEVBQU1oRSxTQUdNLFFBQVptRSxJQUNBSixFQUFPL0QsU0FDUGdFLEVBQU1oRSxVQUVWLElBQUlxRSxFQUFjTixFQUFPdkMsWUFDekJzQyxFQUFZQyxFQUFRQyxFQUFPSyxFQUFZLEdBQUlBLEVBQVksU0NwRW5FOEMsQ0FBWWhDLEVBQVUsR0FBSUEsRUFBVSxRQzVFNUNpQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lQm9hcmRGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXJGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IGdhbWVCb2FyZEZhY3RvcnkgPSAoKSA9PiB7XG4gICAgbGV0IGdhbWVCb2FyZCA9IFtcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspe1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW2ldW2pdID0gKHtoYXNTaGlwOiBmYWxzZSwgaXNTaG90OiBmYWxzZSwgc2hpcExlbmd0aDogMCwgc2hpcFR5cGU6ICduL2EnLCB4UG9pbnQ6IDAsIHlQb2ludDogMH0pO1xuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIGNvbnN0IHBsYWNlSG9yaXpvbnRhbCA9ICh4LCB5LCBzaGlwTGVuZ3RoLCBzaGlwVHlwZSkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uaGFzU2hpcCA9IHRydWU7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uc2hpcExlbmd0aCA9IHNoaXBMZW5ndGg7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uc2hpcFR5cGUgPSBzaGlwVHlwZTtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS54UG9pbnQgPSB4O1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnlQb2ludCA9IHk7XG4gICAgICAgICAgICB5ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdhbWVCb2FyZDtcbiAgICB9XG4gICAgY29uc3QgcGxhY2VWZXJ0ID0gKHgsIHksIHNoaXBMZW5ndGgsIHNoaXBUeXBlKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwID0gdHJ1ZTtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwTGVuZ3RoID0gc2hpcExlbmd0aDtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwVHlwZSA9IHNoaXBUeXBlO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnhQb2ludCA9IHg7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0ueVBvaW50ID0geTtcbiAgICAgICAgICAgIHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZUJvYXJkO1xuICAgIH1cblxuICAgIGNvbnN0IHNjb3V0ID0gKHgsIHksIHNoaXBMZW5ndGgsIGFsaWdubWVudCkgPT4ge1xuICAgICAgICBsZXQgcmVwb3J0ID0gZmFsc2U7XG4gICAgICAgIGlmIChhbGlnbm1lbnQgPT09ICdyb3cnKXtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBsZXQgYW5hbHlzaXMgPSBnYW1lQm9hcmRbeF1beV0uaGFzU2hpcDtcbiAgICAgICAgICAgICAgICBpZiAoIGFuYWx5c2lzID09PSB0cnVlICl7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydCA9IHRydWU7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgbGV0IGFuYWx5c2lzID0gZ2FtZUJvYXJkW3hdW3ldLmhhc1NoaXA7XG4gICAgICAgICAgICAgICAgaWYgKGFuYWx5c2lzID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVwb3J0O1xuICAgIH1cblxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoeCwgeSkgPT4ge1xuICAgICAgICBpZiAoZ2FtZUJvYXJkW3hdW3ldLmhhc1NoaXAgPT09IHRydWUpe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLmlzU2hvdCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gJ0hpdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uaXNTaG90ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBnYW1lQm9hcmQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYWxsU2hpcHNTdW5rID0gKGFycikgPT4ge1xuICAgICAgICBjb25zdCBzdW5rZW5TaGlwcyA9IGFyci5maWx0ZXIoc2hpcHMgPT4gc2hpcHMuaXNTdW5rKCkpO1xuICAgICAgICBpZiAoc3Vua2VuU2hpcHMubGVuZ3RoID09PSBhcnIubGVuZ3RoKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnYW1lQm9hcmQsXG4gICAgICAgIHBsYWNlSG9yaXpvbnRhbCxcbiAgICAgICAgcGxhY2VWZXJ0LFxuICAgICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgICBhbGxTaGlwc1N1bmssXG4gICAgICAgIHNjb3V0LFxuICAgIH1cbn07XG5cbmV4cG9ydCB7IGdhbWVCb2FyZEZhY3RvcnkgfTsiLCJcbmNvbnN0IHNoaXBGYWN0b3J5ID0gKGxlbmd0aCkgPT4ge1xuICAgIGNvbnN0IHNoaXAgPSBbXTtcblxuICAgIGNvbnN0IGhpdCA9IChwb3MpID0+IHNoaXBbcG9zXSA9ICdoaXQnO1xuXG4gICAgY29uc3QgaXNTdW5rID0gKCkgPT4ge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgc3VuayA9IGZhbHNlO1xuXG4gICAgICAgIHNoaXAuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgICAgIGlmIChpdGVtID09PSAnaGl0Jyl7XG4gICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICBzdW5rID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1bmsgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdW5rO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzaGlwLFxuICAgICAgICBsZW5ndGgsXG4gICAgICAgIGhpdCxcbiAgICAgICAgaXNTdW5rLFxuICAgIH1cbn07XG5cbmV4cG9ydCB7IHNoaXBGYWN0b3J5IH07IiwiaW1wb3J0IHsgZ2FtZUJvYXJkRmFjdG9yeSB9IGZyb20gJy4vZ2FtZUJvYXJkRmFjdG9yeSc7XG5pbXBvcnQgeyBzaGlwRmFjdG9yeSB9IGZyb20gJy4vc2hpcEZhY3RvcnknO1xuXG5jb25zdCBQbGF5ZXIgPSAobmFtZSwgaXNBY3RpdmUgPSBmYWxzZSkgPT4ge1xuXG4gICAgbGV0IGNhcnJpZXIgPSBzaGlwRmFjdG9yeSg1KTtcbiAgICBsZXQgYmF0dGxlc2hpcCA9IHNoaXBGYWN0b3J5KDQpO1xuICAgIGxldCBkZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgzKTtcbiAgICBsZXQgc3VibWFyaW5lID0gc2hpcEZhY3RvcnkoMyk7XG4gICAgbGV0IHBhdHJvbEJvYXQgPSBzaGlwRmFjdG9yeSgyKTtcbiAgICBcbiAgICBsZXQgc3RhdGUgPSB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGlzQWN0aXZlLFxuICAgIH1cblxuICAgIGxldCBib2FyZCA9IGdhbWVCb2FyZEZhY3RvcnkoKTtcblxuICAgIGxldCBzaGlwcyA9IFtjYXJyaWVyLCBiYXR0bGVzaGlwLCBkZXN0cm95ZXIsIHN1Ym1hcmluZSwgcGF0cm9sQm9hdF07XG5cbiAgICBjb25zdCBlbmVteU1vdmUgPSAoKSA9PiB7XG4gICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSk7XG4gICAgICAgIGxldCB5ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSk7XG5cbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9XG4gICAgbGV0IHBvczUgPSAwO1xuICAgIGxldCBwb3M0ID0gMDtcbiAgICBsZXQgcG9zMyA9IDA7XG4gICAgbGV0IHBvczIgPSAwO1xuICAgIGxldCBwb3MxID0gMDtcbiAgICBsZXQgZmxhZzEgPSBmYWxzZTtcbiAgICBsZXQgZmxhZzIgPSBmYWxzZTtcbiAgICBsZXQgZmxhZzMgPSBmYWxzZTtcbiAgICBsZXQgZmxhZzQgPSBmYWxzZTtcbiAgICBsZXQgZmxhZzUgPSBmYWxzZTtcblxuICAgIGxldCBmbGFnID0gW2ZsYWcxLCBmbGFnMiwgZmxhZzMsIGZsYWc0LCBmbGFnNV07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgbmFtZSgpe3JldHVybiBzdGF0ZS5uYW1lO30sXG4gICAgICAgIGdldCBpc0FjdGl2ZSgpe3JldHVybiBzdGF0ZS5pc0FjdGl2ZTt9LFxuICAgICAgICB0b2dnbGUoKXsgc3RhdGUuaXNBY3RpdmUgPSAhc3RhdGUuaXNBY3RpdmU7fSxcbiAgICAgICAgYm9hcmQsXG4gICAgICAgIHNoaXBzLFxuICAgICAgICBlbmVteU1vdmUsXG4gICAgICAgIHBvczUsXG4gICAgICAgIHBvczQsXG4gICAgICAgIHBvczMsXG4gICAgICAgIHBvczIsXG4gICAgICAgIHBvczEsXG4gICAgICAgIGZsYWcsXG4gICAgfVxufTtcblxuZXhwb3J0IHsgUGxheWVyIH07IiwiY29uc3QgcmVuZGVyR0JvYXJkID0gKGdhbWVCb2FyZCwgbnVtKSA9PiB7XG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjb250YWluZXIke251bX1gKTtcbiAgICBsZXQgcm93MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzEuc2V0QXR0cmlidXRlKCdpZCcsICdyb3cxJyk7XG4gICAgbGV0IHJvdzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3cyLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MicpO1xuICAgIGxldCByb3czID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93My5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzMnKTtcbiAgICBsZXQgcm93NCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzQuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c0Jyk7XG4gICAgbGV0IHJvdzUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c1LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93NScpO1xuICAgIGxldCByb3c2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93Ni5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzYnKTtcbiAgICBsZXQgcm93NyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzcuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c3Jyk7XG4gICAgbGV0IHJvdzggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c4LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93OCcpO1xuICAgIGxldCByb3c5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93OS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzknKTtcbiAgICBsZXQgcm93MTAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3cxMC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzEwJyk7XG5cbiAgICBnYW1lQm9hcmQuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICBpdGVtLmZvckVhY2goZnVuY3Rpb24oc3ViaXRlbSwgc3ViaW5kZXgpIHtcbiAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgYHNxdWFyZURpdiR7aW5kZXh9JHtzdWJpbmRleH1gKTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEteS1jb29yZCcsIHN1YmluZGV4KTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEteC1jb29yZCcsIGluZGV4KTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzLXNoaXAnLCBzdWJpdGVtLmhhc1NoaXApO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1pcy1zaG90Jywgc3ViaXRlbS5pc1Nob3QpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LmNsYXNzTGlzdC5hZGQoYGF0a0RpdiR7bnVtfWApO1xuICAgICAgICAgICAgaWYgKHN1Yml0ZW0uaGFzU2hpcCA9PT0gZmFsc2UgJiYgbnVtID09PSAxKXtcbiAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYigxNzksIDE5NiwgMjUwKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJpdGVtLmhhc1NoaXAgPT09IHRydWUgJiYgbnVtID09PSAxKSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcXVhcmVEaXYudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKyl7XG4gICAgICAgICAgICAgICAgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjAke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzEuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjEke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzIuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjIke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzMuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjMke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzQuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjQke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzUuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjUke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzYuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjYke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzcuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjcke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzguYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjgke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzkuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjkke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzEwLmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzMpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzQpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzUpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzYpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzcpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzgpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzkpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBhdGtMaXN0ZW5lciA9IChwbGF5ZXIsIGVuZW15LCBudW0pID0+IHtcbiAgICBsZXQgZ2FtZUJvYXJkID0gZW5lbXkuYm9hcmQ7XG4gICAgbGV0IHNoaXBzID0gZW5lbXkuc2hpcHM7XG4gICAgbGV0IHJlc3BvbnNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShgYXRrRGl2JHtudW19YCk7XG4gICAgbGV0IGlzU2hvdDtcbiAgICBsZXQgeVBvaW50O1xuICAgIGxldCB4UG9pbnQ7XG4gICAgbGV0IHNoaXBMZW5ndGg7XG4gICAgbGV0IHNoaXBUeXBlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHJlc3BvbnNlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzQWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeVBvaW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnKTtcbiAgICAgICAgICAgICAgICB4UG9pbnQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteC1jb29yZCcpO1xuICAgICAgICAgICAgICAgIGlzU2hvdCA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdLmlzU2hvdDtcbiAgICAgICAgICAgICAgICBzaGlwTGVuZ3RoID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4UG9pbnRdW3lQb2ludF0uc2hpcExlbmd0aDtcbiAgICAgICAgICAgICAgICBzaGlwVHlwZSA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdLnNoaXBUeXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzU2hvdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1oYXMtc2hpcCcpID09PSAndHJ1ZScpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JleSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBnYW1lQm9hcmQucmVjZWl2ZUF0dGFjayh4UG9pbnQsIHlQb2ludCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcFR5cGUgPT0gJ0NhcnJpZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChlbmVteS5wb3M1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnBvczUgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnQmF0dGxlc2hpcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KGVuZW15LnBvczQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkucG9zNCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdEZXN0cm95ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChlbmVteS5wb3MzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnBvczMgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnU3VibWFyaW5lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFsxXS5oaXQoZW5lbXkucG9zMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5wb3MyICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ1BhdHJvbGJvYXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChlbmVteS5wb3MxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnBvczEgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZUJvYXJkLmFsbFNoaXBzU3VuayhzaGlwcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbk1zZygnUGxheWVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllci5ib2FyZC5hbGxTaGlwc1N1bmsocGxheWVyLnNoaXBzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luTXNnKCdDb21wdXRlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT09ICdIaXQnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb29yZGluYXRlcyA9IHBsYXllci5lbmVteU1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgY29vcmRpbmF0ZXNbMF0sIGNvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuXG5jb25zdCBlbmVteUF0dGFjayA9IChwbGF5ZXIsIGVuZW15LCB4LCB5KSA9PiB7XG4gICAgbGV0IGdhbWVCb2FyZCA9IHBsYXllci5ib2FyZDtcbiAgICBsZXQgc2hpcHMgPSBwbGF5ZXIuc2hpcHM7XG4gICAgbGV0IGlzU2hvdCA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeF1beV0uaXNTaG90OztcbiAgICBsZXQgaGFzU2hpcCA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeF1beV0uaGFzU2hpcDtcbiAgICBsZXQgc2hpcExlbmd0aCA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeF1beV0uc2hpcExlbmd0aDtcbiAgICBsZXQgc2hpcFR5cGUgPSBnYW1lQm9hcmQuZ2FtZUJvYXJkW3hdW3ldLnNoaXBUeXBlO1xuICAgIGxldCBwYW5lbDtcbiAgICBpZiAoeCA9PT0gMCl7XG4gICAgICAgIHBhbmVsID0geTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYW5lbCA9ICcnICsgeCArIHk7XG4gICAgfVxuICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdGtEaXYxJylbcGFuZWxdOyAgXG5cblxuICAgIGlmIChlbmVteS5pc0FjdGl2ZSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgIGlmIChpc1Nob3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoaGFzU2hpcCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZXknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBnYW1lQm9hcmQucmVjZWl2ZUF0dGFjayh4LCB5KTtcblxuICAgICAgICAgICAgaWYgKHNoaXBUeXBlID09ICdDYXJyaWVyJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocGxheWVyLnBvczUpO1xuICAgICAgICAgICAgICAgIHBsYXllci5wb3M1ICs9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdCYXR0bGVzaGlwJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocGxheWVyLnBvczQpO1xuICAgICAgICAgICAgICAgIHBsYXllci5wb3M0ICs9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdEZXN0cm95ZXInKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChwbGF5ZXIucG9zMyk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBvczMgKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ1N1Ym1hcmluZScpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGhpdFNoaXBbMV0uaGl0KHBsYXllci5wb3MyKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucG9zMiArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnUGF0cm9sYm9hdCcpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KHBsYXllci5wb3MxKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucG9zMSArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdhbWVCb2FyZC5hbGxTaGlwc1N1bmsoc2hpcHMpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgd2luTXNnKCdDb21wdXRlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmVteS5ib2FyZC5hbGxTaGlwc1N1bmsoZW5lbXkuc2hpcHMpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgd2luTXNnKCdVc2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT09ICdIaXQnKXtcbiAgICAgICAgICAgICAgICBwbGF5ZXIudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgZW5lbXkudG9nZ2xlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgKyAxKXtcbiAgICAgICAgICAgICAgICAgICAgLy9JZiBoaXQgbGFuZHMsIGF0dGFjayBhZGphY2VudCByaWdodCB0aWxlLCB1bmxlc3MgdGhlcmUncyBubyByaWdodCB0aWxlLCB0aGVuIHN0cmlrZVxuICAgICAgICAgICAgICAgICAgICAvL2JvdHRvbSB0aWxlLCB1bmxlc3MgdGhlcmUncyBubyBib3R0b20gdGlsZSwgdGhlbiBzdHJpa2UgdGlsZSBhYm92ZVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh5ICsgMSkgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIHgsIHkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh4ICsgMSkgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIHggKyAxLCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIHggLSAxLCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy9JZiBoaXQgbGFuZHMsIGF0dGFjayBhZGphY2VudCBib3R0b20gdGlsZSwgdW5sZXNzIHRoZXJlJ3Mgbm8gYm90dG9tIHRpbGUsIHRoZW4gc3RyaWtlXG4gICAgICAgICAgICAgICAgICAgIC8vYWRqYWNlbnQgdGlsZSB0byByaWdodCwgdW5sZXNzIHRoZXJlJ3Mgbm8gdGlsZSB0byByaWdodCwgdGhlbiBzdHJpa2UgdGlsZSB0byBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHggKyAxKSA8IDEwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCB4ICsgMSwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoeSArIDEpIDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCB4LCB5ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCB4LCB5IC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBwbGF5ZXIuZW5lbXlNb3ZlKCk7XG4gICAgICAgICAgICBlbmVteUF0dGFjayhwbGF5ZXIsIGVuZW15LCBjb29yZGluYXRlc1swXSwgY29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgIH07XG59O1xuXG5jb25zdCBwbGFjZVBpZWNlcyA9ICh1c2VyKSA9PiB7XG4gICAgbGV0IHBsYXllciA9IHVzZXIuYm9hcmQ7XG5cbiAgICBjb25zdCBvbkRyYWdPdmVyID0gKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBjb25zdCBvbkRyb3AgPSAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCB4ID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXgtY29vcmQnKSk7XG4gICAgICAgIGxldCB5ID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnKSk7XG4gICAgICAgIGxldCBkYXRhID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dCcpO1xuICAgICAgICBsZXQgY2FycmllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDYXJyaWVyJyk7XG4gICAgICAgIGxldCBiYXR0bGVTaGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0JhdHRsZXNoaXAnKTtcbiAgICAgICAgbGV0IGRlc3Ryb3llciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNEZXN0cm95ZXInKTtcbiAgICAgICAgbGV0IHN1Yk1hcmluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTdWJtYXJpbmUnKTtcbiAgICAgICAgbGV0IHBhdHJvbEIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUGF0cm9sYm9hdCcpO1xuICAgICAgICBsZXQgYWxpZ24gPSBjYXJyaWVyLmdldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbm1lbnQnKTtcbiAgICAgICAgaWYgKGRhdGEgPT09ICdDYXJyaWVyJyl7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNjb3V0KHgsIHksIDUsIGFsaWduKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIHVzZXIuZmxhZ1swXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAncm93Jyl7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZUhvcml6b250YWwoeCwgeSwgNSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlVmVydCh4LCB5LCA1LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2Fycmllci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEgPT09ICdCYXR0bGVzaGlwJyl7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNjb3V0KHgsIHksIDQsIGFsaWduKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIHVzZXIuZmxhZ1sxXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAncm93Jyl7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZUhvcml6b250YWwoeCwgeSwgNCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlVmVydCh4LCB5LCA0LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmF0dGxlU2hpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhID09PSAnRGVzdHJveWVyJyl7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNjb3V0KHgsIHksIDMsIGFsaWduKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIHVzZXIuZmxhZ1syXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAncm93Jyl7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZUhvcml6b250YWwoeCwgeSwgMywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlVmVydCh4LCB5LCAzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzdHJveWVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEgPT09ICdTdWJtYXJpbmUnKXtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuc2NvdXQoeCwgeSwgMywgYWxpZ24pID09PSBmYWxzZSl7XG4gICAgICAgICAgICAgICAgdXNlci5mbGFnWzNdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdyb3cnKXtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlSG9yaXpvbnRhbCh4LCB5LCAzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB5Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnY29sdW1uJykge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VWZXJ0KHgsIHksIDMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJNYXJpbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSA9PT0gJ1BhdHJvbGJvYXQnKXtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuc2NvdXQoeCwgeSwgMiwgYWxpZ24pID09PSBmYWxzZSl7XG4gICAgICAgICAgICAgICAgdXNlci5mbGFnWzRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdyb3cnKXtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlSG9yaXpvbnRhbCh4LCB5LCAyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB5Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnY29sdW1uJykge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VWZXJ0KHgsIHksIDIsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRyb2xCLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZsYWdBcnIgPSB1c2VyLmZsYWcuZmlsdGVyKGZsYWcgPT4gZmxhZyA9PT0gdHJ1ZSk7XG4gICAgICAgIGlmIChmbGFnQXJyLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RhcnRCdG4nKTtcbiAgICAgICAgICAgIHN0YXJ0QnRuLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3BvbnNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXRrRGl2MScpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHJlc3BvbnNlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnT3Zlcik7XG4gICAgICAgIHJlc3BvbnNlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBvbkRyb3ApO1xuICAgIH07XG5cbn1cblxuY29uc3QgZGVSZW5kZXIgPSAoKSA9PiB7XG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFpbmVyMVwiKTtcbiAgICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5maXJzdENoaWxkKTtcbiAgICB9XG59XG5cbmNvbnN0IHdpbk1zZyA9IChzdHJpbmcpID0+IHtcbiAgICBjb25zdCBidG5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnRuQ29udGFpbmVyJyk7XG4gICAgY29uc3Qgd2luQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpbkNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHdpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGlmIChzdHJpbmcgPT09ICdQbGF5ZXInKSB7XG4gICAgICAgIHdpbm5lckRpdi50ZXh0Q29udGVudCA9ICdFbmVteSBmbGVldCBkZXN0cm95ZWQhJztcbiAgICB9XG4gICAgZWxzZSBpZiAoc3RyaW5nID09PSAnQ29tcHV0ZXInKSB7XG4gICAgICAgIHdpbm5lckRpdi50ZXh0Q29udGVudCA9ICdZb3VyIGZsZWV0IHdhcyBkZXN0cm95ZWQhJztcbiAgICB9XG4gICAgYnRuQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICB3aW5Db250YWluZXIuYXBwZW5kQ2hpbGQod2lubmVyRGl2KTtcbn1cblxuZXhwb3J0IHsgXG5cbiAgICByZW5kZXJHQm9hcmQsXG4gICAgYXRrTGlzdGVuZXIsXG4gICAgcGxhY2VQaWVjZXMsXG4gICAgZGVSZW5kZXIsXG4gfTsiLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3BsYXllckZhY3RvcnknO1xuaW1wb3J0IHsgcmVuZGVyR0JvYXJkLCBhdGtMaXN0ZW5lciwgcGxhY2VQaWVjZXMsIGRlUmVuZGVyIH0gZnJvbSAnLi9yZW5kZXInO1xuXG5jb25zdCBnYW1lID0gKCkgPT4ge1xuXG4gICAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RhcnRCdG4nKTtcbiAgICBjb25zdCBhbGlnbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbGlnbkJ0bicpO1xuICAgIGNvbnN0IGNhcnJpZXJEcmFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NhcnJpZXInKTtcbiAgICBjb25zdCBiYXR0bGVEcmFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0JhdHRsZXNoaXAnKTtcbiAgICBjb25zdCBkZXN0ckRyYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjRGVzdHJveWVyJyk7XG4gICAgY29uc3Qgc3ViRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTdWJtYXJpbmUnKTtcbiAgICBjb25zdCBwYXRyb2xEcmFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BhdHJvbGJvYXQnKTtcbiAgICBjYXJyaWVyRHJhZy5jbGFzc0xpc3QuYWRkKCdob3Jpem9udGFsJyk7XG4gICAgYmF0dGxlRHJhZy5jbGFzc0xpc3QuYWRkKCdob3Jpem9udGFsJyk7XG4gICAgZGVzdHJEcmFnLmNsYXNzTGlzdC5hZGQoJ2hvcml6b250YWwnKTtcbiAgICBzdWJEcmFnLmNsYXNzTGlzdC5hZGQoJ2hvcml6b250YWwnKTtcbiAgICBwYXRyb2xEcmFnLmNsYXNzTGlzdC5hZGQoJ2hvcml6b250YWwnKTtcbiAgICBjYXJyaWVyRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgY2FycmllckRyYWcuc2V0QXR0cmlidXRlKCdkYXRhLWFsaWdubWVudCcsICdyb3cnKTtcblxuICAgIGNvbnN0IHBsYXllckFyciA9IFtcbiAgICAgICAgUGxheWVyKFwicGxheWVyMVwiLCB0cnVlKSxcbiAgICAgICAgUGxheWVyKFwiY29tcHV0ZXJcIiwgZmFsc2UpXG4gICAgXTtcblxuICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKGUpID0+IHtcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGUudGFyZ2V0LmlkKTtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgfVxuXG4gICAgY2FycmllckRyYWcuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpO1xuICAgIGJhdHRsZURyYWcuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpO1xuICAgIGRlc3RyRHJhZy5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCk7XG4gICAgc3ViRHJhZy5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCk7XG4gICAgcGF0cm9sRHJhZy5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCk7XG5cbiAgICByZW5kZXJHQm9hcmQocGxheWVyQXJyWzBdLmJvYXJkLmdhbWVCb2FyZCwgMSk7XG5cbiAgICBhbGlnbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmIChjYXJyaWVyRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID09PSAncm93Jyl7XG4gICAgICAgICAgICBjYXJyaWVyRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgICAgICBiYXR0bGVEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICAgICAgICAgIGRlc3RyRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgICAgICBzdWJEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICAgICAgICAgIHBhdHJvbERyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICAgICAgY2FycmllckRyYWcuc2V0QXR0cmlidXRlKCdkYXRhLWFsaWdubWVudCcsICdjb2x1bW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhcnJpZXJEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgICAgIGJhdHRsZURyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xuICAgICAgICAgICAgZGVzdHJEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgICAgIHN1YkRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xuICAgICAgICAgICAgcGF0cm9sRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgICAgICBjYXJyaWVyRHJhZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpZ25tZW50JywgJ3JvdycpO1xuICAgICAgICB9XG5cbiAgICB9KVxuXG4gICAgcGxhY2VQaWVjZXMocGxheWVyQXJyWzBdKTtcblxuICAgIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc3QgZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lQ29udGFpbmVyJyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGFpbmVyMicpO1xuICAgICAgICBjb25zdCBnYW1lclRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lclRhZycpO1xuICAgICAgICBjb25zdCBjb21wdXRlclRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21wdXRlclRhZycpO1xuICAgICAgICBkZVJlbmRlcigpO1xuICAgICAgICByZW5kZXJHQm9hcmQocGxheWVyQXJyWzBdLmJvYXJkLmdhbWVCb2FyZCwgMSk7XG4gICAgICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZUhvcml6b250YWwoOCwgMSwgNSwgJ0NhcnJpZXInKTtcbiAgICAgICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlSG9yaXpvbnRhbCgzLCA1LCA0LCAnQmF0dGxlc2hpcCcpO1xuICAgICAgICBwbGF5ZXJBcnJbMV0uYm9hcmQucGxhY2VIb3Jpem9udGFsKDYsIDMsIDMsICdEZXN0cm95ZXInKTtcbiAgICAgICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlSG9yaXpvbnRhbCgxLCAxLCAzLCAnU3VibWFyaW5lJyk7XG4gICAgICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZUhvcml6b250YWwoMCwgNiwgMiwgJ1BhdHJvbGJvYXQnKTtcbiAgICAgICAgcmVuZGVyR0JvYXJkKHBsYXllckFyclsxXS5ib2FyZC5nYW1lQm9hcmQsIDIpO1xuICAgICAgICBnYW1lQ29udGFpbmVyLnN0eWxlLmdhcCA9ICcxMCUnO1xuICAgICAgICBjb250YWluZXIyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGdhbWVyVGFnLnN0eWxlLmdhcCA9ICcxMCUnO1xuICAgICAgICBjb21wdXRlclRhZy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBzdGFydEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBhbGlnbkJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBhdGtMaXN0ZW5lcihwbGF5ZXJBcnJbMF0sIHBsYXllckFyclsxXSwgMik7XG4gICAgfSk7XG5cbn07XG5cbmV4cG9ydCB7IGdhbWUgfTsiLCJpbXBvcnQgeyBnYW1lIH0gZnJvbSAnLi9nYW1lJztcblxuZ2FtZSgpOyJdLCJuYW1lcyI6WyJzaGlwRmFjdG9yeSIsImxlbmd0aCIsInNoaXAiLCJoaXQiLCJwb3MiLCJpc1N1bmsiLCJjb3VudCIsInN1bmsiLCJmb3JFYWNoIiwiaXRlbSIsIlBsYXllciIsIm5hbWUiLCJpc0FjdGl2ZSIsImNhcnJpZXIiLCJiYXR0bGVzaGlwIiwiZGVzdHJveWVyIiwic3VibWFyaW5lIiwicGF0cm9sQm9hdCIsInN0YXRlIiwidG9nZ2xlIiwiYm9hcmQiLCJnYW1lQm9hcmQiLCJpIiwiaiIsImhhc1NoaXAiLCJpc1Nob3QiLCJzaGlwTGVuZ3RoIiwic2hpcFR5cGUiLCJ4UG9pbnQiLCJ5UG9pbnQiLCJwbGFjZUhvcml6b250YWwiLCJ4IiwieSIsInBsYWNlVmVydCIsInJlY2VpdmVBdHRhY2siLCJhbGxTaGlwc1N1bmsiLCJhcnIiLCJmaWx0ZXIiLCJzaGlwcyIsInNjb3V0IiwiYWxpZ25tZW50IiwicmVwb3J0IiwiZ2FtZUJvYXJkRmFjdG9yeSIsImVuZW15TW92ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInBvczUiLCJwb3M0IiwicG9zMyIsInBvczIiLCJwb3MxIiwiZmxhZyIsInJlbmRlckdCb2FyZCIsIm51bSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJvdzEiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwicm93MiIsInJvdzMiLCJyb3c0Iiwicm93NSIsInJvdzYiLCJyb3c3Iiwicm93OCIsInJvdzkiLCJyb3cxMCIsImluZGV4Iiwic3ViaXRlbSIsInN1YmluZGV4Iiwic3F1YXJlRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0ZXh0Q29udGVudCIsImdldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiZW5lbXlBdHRhY2siLCJwbGF5ZXIiLCJlbmVteSIsInBhbmVsIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm1lc3NhZ2UiLCJ3aW5Nc2ciLCJjb29yZGluYXRlcyIsInN0cmluZyIsImJ0bkNvbnRhaW5lciIsIndpbkNvbnRhaW5lciIsIndpbm5lckRpdiIsImRpc3BsYXkiLCJzdGFydEJ0biIsImFsaWduQnRuIiwiY2FycmllckRyYWciLCJiYXR0bGVEcmFnIiwiZGVzdHJEcmFnIiwic3ViRHJhZyIsInBhdHJvbERyYWciLCJmbGV4RGlyZWN0aW9uIiwicGxheWVyQXJyIiwib25EcmFnU3RhcnQiLCJlIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsInRhcmdldCIsImlkIiwiY3VycmVudFRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1c2VyIiwib25EcmFnT3ZlciIsInByZXZlbnREZWZhdWx0Iiwib25Ecm9wIiwicGFyc2VJbnQiLCJkYXRhIiwiZ2V0RGF0YSIsImJhdHRsZVNoaXAiLCJzdWJNYXJpbmUiLCJwYXRyb2xCIiwiYWxpZ24iLCJnZXRFbGVtZW50QnlJZCIsInJlc3BvbnNlIiwicGxhY2VQaWVjZXMiLCJnYW1lQ29udGFpbmVyIiwiY29udGFpbmVyMiIsImdhbWVyVGFnIiwiY29tcHV0ZXJUYWciLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkZVJlbmRlciIsImdhcCIsImF0a0xpc3RlbmVyIiwiZ2FtZSJdLCJzb3VyY2VSb290IjoiIn0=