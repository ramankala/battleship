(()=>{"use strict";const e=e=>{const t=[];return{ship:t,length:e,hit:e=>t[e]="hit",isSunk:()=>{let r=0,o=!1;return t.forEach((function(e){"hit"===e&&(r+=1)})),o=r===e,o}}},t=(t,r=!1)=>{let o=e(5),i=e(4),l=e(3),a=e(3),n=e(2),s={name:t,isActive:r};return{get name(){return s.name},get isActive(){return s.isActive},toggle(){s.isActive=!s.isActive},board:(()=>{let e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];for(let t=0;t<10;t++)for(let r=0;r<10;r++)e[t][r]={hasShip:!1,isShot:!1,shipLength:0,shipType:"n/a",xPoint:0,yPoint:0};return{gameBoard:e,placeHorizontal:(t,r,o,i)=>{for(let l=0;l<o;l++)e[t][r].hasShip=!0,e[t][r].shipLength=o,e[t][r].shipType=i,e[t][r].xPoint=t,e[t][r].yPoint=r,r+=1;return e},placeVert:(t,r,o,i)=>{for(let l=0;l<o;l++)e[t][r].hasShip=!0,e[t][r].shipLength=o,e[t][r].shipType=i,e[t][r].xPoint=t,e[t][r].yPoint=r,t+=1;return e},receiveAttack:(t,r)=>!0===e[t][r].hasShip?(e[t][r].isShot=!0,"Hit"):(e[t][r].isShot=!0,e),allShipsSunk:e=>e.filter((e=>e.isSunk())).length===e.length,scout:(t,r,o,i)=>{let l=!1;if("row"===i)for(let i=0;i<o;i++)!0===e[t][r].hasShip&&(l=!0),r+=1;else for(let i=0;i<o;i++)!0===e[t][r].hasShip&&(l=!0),t+=1;return l}}})(),ships:[o,i,l,a,n],enemyMove:()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],pos5:0,pos4:0,pos3:0,pos2:0,pos1:0}},r=(e,t)=>{let r=document.querySelector(`#container${t}`),o=document.createElement("div");o.setAttribute("id","row1");let i=document.createElement("div");i.setAttribute("id","row2");let l=document.createElement("div");l.setAttribute("id","row3");let a=document.createElement("div");a.setAttribute("id","row4");let n=document.createElement("div");n.setAttribute("id","row5");let s=document.createElement("div");s.setAttribute("id","row6");let d=document.createElement("div");d.setAttribute("id","row7");let c=document.createElement("div");c.setAttribute("id","row8");let u=document.createElement("div");u.setAttribute("id","row9");let p=document.createElement("div");p.setAttribute("id","row10"),e.forEach((function(e,g){e.forEach((function(e,h){let m=document.createElement("div");m.setAttribute("id",`squareDiv${g}${h}`),m.setAttribute("data-y-coord",h),m.setAttribute("data-x-coord",g),m.setAttribute("data-has-ship",e.hasShip),m.setAttribute("data-is-shot",e.isShot),m.classList.add(`atkDiv${t}`),m.textContent=e.hasShip;for(let e=0;e<10;e++)m.getAttribute("id")==`squareDiv0${e}`?o.appendChild(m):m.getAttribute("id")==`squareDiv1${e}`?i.appendChild(m):m.getAttribute("id")==`squareDiv2${e}`?l.appendChild(m):m.getAttribute("id")==`squareDiv3${e}`?a.appendChild(m):m.getAttribute("id")==`squareDiv4${e}`?n.appendChild(m):m.getAttribute("id")==`squareDiv5${e}`?s.appendChild(m):m.getAttribute("id")==`squareDiv6${e}`?d.appendChild(m):m.getAttribute("id")==`squareDiv7${e}`?c.appendChild(m):m.getAttribute("id")==`squareDiv8${e}`?u.appendChild(m):m.getAttribute("id")==`squareDiv9${e}`&&p.appendChild(m);r.appendChild(o),r.appendChild(i),r.appendChild(l),r.appendChild(a),r.appendChild(n),r.appendChild(s),r.appendChild(d),r.appendChild(c),r.appendChild(u),r.appendChild(p)}))}))},o=(e,t,r,l)=>{let a=e.board;console.log(a);let n,s=e.ships,d=a.gameBoard[r][l].isShot,c=a.gameBoard[r][l].hasShip,u=a.gameBoard[r][l].shipLength,p=a.gameBoard[r][l].shipType;n=0===r?l:""+r+l;let g=document.getElementsByClassName("atkDiv1")[n];if(!0===t.isActive)if(!1===d){g.style.backgroundColor=!0===c?"red":"grey";let n=a.receiveAttack(r,l);if("Carrier"==p?(s.filter((e=>e.length==u))[0].hit(e.pos5),e.pos5+=1):"Battleship"==p?(s.filter((e=>e.length==u))[0].hit(e.pos4),e.pos4+=1):"Destroyer"==p?(s.filter((e=>e.length==u))[0].hit(e.pos3),e.pos3+=1):"Submarine"==p?(s.filter((e=>e.length==u))[1].hit(e.pos2),e.pos2+=1):"Patrolboat"==p&&(s.filter((e=>e.length==u))[0].hit(e.pos1),e.pos1+=1),!0===a.allShipsSunk(s))return console.log("Computer won!"),void i("Computer");if(!0===t.board.allShipsSunk(t.ships))return console.log("User won!"),void i("User");if("Hit"!==n)e.toggle(),t.toggle();else switch(Math.floor(2*Math.random())+1){case 1:l+1<10?o(e,t,r,l+1):o(e,t,r+1<10?r+1:r-1,l);case 2:r+1<10?o(e,t,r+1,l):o(e,t,r,l+1<10?l+1:l-1)}}else{let r=e.enemyMove();o(e,t,r[0],r[1])}},i=e=>{const t=document.querySelector("#gameContainer"),r=document.createElement("div");"Player"===e?r.textContent="You are the winner!":"Computer"===e&&(r.textContent="Computer is the winner!"),t.appendChild(r)};(()=>{const e=document.querySelector("#startBtn"),l=document.querySelector("#alignBtn"),a=document.querySelector("#Carrier"),n=document.querySelector("#Battleship"),s=document.querySelector("#Destroyer"),d=document.querySelector("#Submarine"),c=document.querySelector("#Patrolboat");a.classList.add("horizontal"),n.classList.add("horizontal"),s.classList.add("horizontal"),d.classList.add("horizontal"),c.classList.add("horizontal"),a.style.flexDirection="row",a.setAttribute("data-alignment","row");const u=[t("player1",!0),t("computer",!1)],p=e=>{e.dataTransfer.setData("text/plain",e.target.id),e.currentTarget.style.backgroundColor="green"};a.addEventListener("dragstart",p),n.addEventListener("dragstart",p),s.addEventListener("dragstart",p),d.addEventListener("dragstart",p),c.addEventListener("dragstart",p),r(u[0].board.gameBoard,1),l.addEventListener("click",(function(){"row"===a.style.flexDirection?(a.style.flexDirection="column",n.style.flexDirection="column",s.style.flexDirection="column",d.style.flexDirection="column",c.style.flexDirection="column",a.setAttribute("data-alignment","column")):(a.style.flexDirection="row",n.style.flexDirection="row",s.style.flexDirection="row",d.style.flexDirection="row",c.style.flexDirection="row",a.setAttribute("data-alignment","row"))})),(e=>{const t=e=>{e.preventDefault()},r=t=>{t.preventDefault(),console.log(t.target.getAttribute("data-y-coord")),console.log(t.target.getAttribute("data-x-coord"));let r=parseInt(t.target.getAttribute("data-x-coord")),o=parseInt(t.target.getAttribute("data-y-coord")),i=t.dataTransfer.getData("text"),l=document.querySelector("#Carrier"),a=document.querySelector("#Battleship"),n=document.querySelector("#Destroyer"),s=document.querySelector("#Submarine"),d=document.querySelector("#Patrolboat"),c=l.getAttribute("data-alignment");if(console.log(e),"Carrier"===i&&!1===e.scout(r,o,5,c)){if("row"===c){e.placeHorizontal(r,o,5,i);for(let e=0;e<5;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",o++}else if("column"===c){e.placeVert(r,o,5,i);for(let e=0;e<5;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",r++}l.style.display="none"}if("Battleship"===i&&!1===e.scout(r,o,4,c)){if("row"===c){e.placeHorizontal(r,o,4,i);for(let e=0;e<4;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",o++}else if("column"===c){e.placeVert(r,o,4,i);for(let e=0;e<4;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",r++}a.style.display="none"}if("Destroyer"===i&&!1===e.scout(r,o,3,c)){if("row"===c){e.placeHorizontal(r,o,3,i);for(let e=0;e<3;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",o++}else if("column"===c){e.placeVert(r,o,3,i);for(let e=0;e<3;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",r++}n.style.display="none"}if("Submarine"===i&&!1===e.scout(r,o,3,c)){if("row"===c){e.placeHorizontal(r,o,3,i);for(let e=0;e<3;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",o++}else if("column"===c){e.placeVert(r,o,3,i);for(let e=0;e<3;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",r++}s.style.display="none"}if("Patrolboat"===i&&!1===e.scout(r,o,2,c)){if("row"===c){e.placeHorizontal(r,o,2,i);for(let e=0;e<2;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",o++}else if("column"===c){e.placeVert(r,o,2,i);for(let e=0;e<2;e++)document.getElementById(`squareDiv${r}${o}`).style.backgroundColor="green",r++}d.style.display="none"}};let o=document.getElementsByClassName("atkDiv1");for(let e=0;e<o.length;e++)o[e].addEventListener("dragover",t),o[e].addEventListener("drop",r)})(u[0].board),e.addEventListener("click",(function(){(()=>{let e=document.querySelector("#container1");for(;e.firstChild;)e.removeChild(e.firstChild)})(),r(u[0].board.gameBoard,1),u[1].board.placeHorizontal(8,1,5,"Carrier"),u[1].board.placeHorizontal(3,5,4,"Battleship"),u[1].board.placeHorizontal(6,3,3,"Destroyer"),u[1].board.placeHorizontal(1,1,3,"Submarine"),u[1].board.placeHorizontal(0,6,2,"Patrolboat"),r(u[1].board.gameBoard,2),((e,t,r)=>{let l,a,n,s,d,c=t.board,u=t.ships,p=document.getElementsByClassName("atkDiv2");for(let r=0;r<p.length;r++)p[r].addEventListener("click",(function(r){if(!0===e.isActive&&(a=r.target.getAttribute("data-y-coord"),n=r.target.getAttribute("data-x-coord"),l=c.gameBoard[n][a].isShot,s=c.gameBoard[n][a].shipLength,d=c.gameBoard[n][a].shipType,!1===l)){"true"===r.target.getAttribute("data-has-ship")?r.target.style.backgroundColor="red":r.target.style.backgroundColor="grey",console.log(n),console.log(a);let l=c.receiveAttack(n,a);if("Carrier"==d){let e=u.filter((e=>e.length==s));console.log(e),e[0].hit(t.pos5),t.pos5+=1}else"Battleship"==d?(u.filter((e=>e.length==s))[0].hit(t.pos4),t.pos4+=1):"Destroyer"==d?(u.filter((e=>e.length==s))[0].hit(t.pos3),t.pos3+=1):"Submarine"==d?(u.filter((e=>e.length==s))[1].hit(t.pos2),t.pos2+=1):"Patrolboat"==d&&(u.filter((e=>e.length==s))[0].hit(t.pos1),t.pos1+=1);if(!0===c.allShipsSunk(u))return console.log("Player won!"),i("Player"),void e.toggle();if(!0===e.board.allShipsSunk(e.ships))return console.log("Computer won!"),i("Computer"),void t.toggle();"Hit"!==l&&(e.toggle(),t.toggle());let p=e.enemyMove();console.log(p),o(e,t,p[0],p[1])}}))})(u[0],u[1])}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNaEMsTUFDckJnQyxFQUFNaEMsTUFBUSxHQUNLLGFBQVpyQixHQUVPVyxFQUFNRCxRQUFPbkMsR0FBUUEsRUFBS0QsUUFBVXlCLElBQzFDLEdBQUd2QixJQUFJNkUsRUFBTS9CLE1BQ3JCK0IsRUFBTS9CLE1BQVEsR0FDSyxhQUFadEIsR0FFT1csRUFBTUQsUUFBT25DLEdBQVFBLEVBQUtELFFBQVV5QixJQUMxQyxHQUFHdkIsSUFBSTZFLEVBQU05QixNQUNyQjhCLEVBQU05QixNQUFRLEdBQ0ssY0FBWnZCLElBRU9XLEVBQU1ELFFBQU9uQyxHQUFRQSxFQUFLRCxRQUFVeUIsSUFDMUMsR0FBR3ZCLElBQUk2RSxFQUFNN0IsTUFDckI2QixFQUFNN0IsTUFBUSxHQUVsQixJQUFzQyxJQUFsQzlCLEVBQVVjLGFBQWFHLEdBSXZCLE9BSEEyQyxRQUFRQyxJQUFJLGVBQ1pNLEVBQU8sZUFDUFQsRUFBTzVELFNBR1gsSUFBZ0QsSUFBNUM0RCxFQUFPM0QsTUFBTWUsYUFBYTRDLEVBQU96QyxPQUlqQyxPQUhBMkMsUUFBUUMsSUFBSSxpQkFDWk0sRUFBTyxpQkFDUFIsRUFBTTdELFNBR00sUUFBWm9FLElBQ0FSLEVBQU81RCxTQUNQNkQsRUFBTTdELFVBRVYsSUFBSXNFLEVBQWNWLEVBQU9wQyxZQUN6QnNDLFFBQVFDLElBQUlPLEdBQ1pYLEVBQVlDLEVBQVFDLEVBQU9TLEVBQVksR0FBSUEsRUFBWSxTQzdFbkV3QyxDQUFZNUIsRUFBVSxHQUFJQSxFQUFVLFFDbkU1QzZCLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVCb2FyZEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2hpcEZhY3RvcnkgfSBmcm9tICcuL3NoaXBGYWN0b3J5JztcblxuY29uc3QgZ2FtZUJvYXJkRmFjdG9yeSA9ICgpID0+IHtcbiAgICBsZXQgZ2FtZUJvYXJkID0gW1xuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICBdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKyl7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKyl7XG4gICAgICAgICAgICBnYW1lQm9hcmRbaV1bal0gPSAoe2hhc1NoaXA6IGZhbHNlLCBpc1Nob3Q6IGZhbHNlLCBzaGlwTGVuZ3RoOiAwLCBzaGlwVHlwZTogJ24vYScsIHhQb2ludDogMCwgeVBvaW50OiAwfSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuXG4gICAgY29uc3QgcGxhY2VIb3Jpem9udGFsID0gKHgsIHksIHNoaXBMZW5ndGgsIHNoaXBUeXBlKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwID0gdHJ1ZTtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwTGVuZ3RoID0gc2hpcExlbmd0aDtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwVHlwZSA9IHNoaXBUeXBlO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnhQb2ludCA9IHg7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0ueVBvaW50ID0geTtcbiAgICAgICAgICAgIHkgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZUJvYXJkO1xuICAgIH1cbiAgICBjb25zdCBwbGFjZVZlcnQgPSAoeCwgeSwgc2hpcExlbmd0aCwgc2hpcFR5cGUpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLmhhc1NoaXAgPSB0cnVlO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnNoaXBMZW5ndGggPSBzaGlwTGVuZ3RoO1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLnNoaXBUeXBlID0gc2hpcFR5cGU7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0ueFBvaW50ID0geDtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS55UG9pbnQgPSB5O1xuICAgICAgICAgICAgeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYW1lQm9hcmQ7XG4gICAgfVxuXG4gICAgY29uc3Qgc2NvdXQgPSAoeCwgeSwgc2hpcExlbmd0aCwgYWxpZ25tZW50KSA9PiB7XG4gICAgICAgIGxldCByZXBvcnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFsaWdubWVudCA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGxldCBhbmFseXNpcyA9IGdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwO1xuICAgICAgICAgICAgICAgIGlmICggYW5hbHlzaXMgPT09IHRydWUgKXtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHkgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBsZXQgYW5hbHlzaXMgPSBnYW1lQm9hcmRbeF1beV0uaGFzU2hpcDtcbiAgICAgICAgICAgICAgICBpZiAoYW5hbHlzaXMgPT09IHRydWUpe1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQgPSB0cnVlOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXBvcnQ7XG4gICAgfVxuXG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgICAgIGlmIChnYW1lQm9hcmRbeF1beV0uaGFzU2hpcCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uaXNTaG90ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAnSGl0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5pc1Nob3QgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGdhbWVCb2FyZDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoYXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1bmtlblNoaXBzID0gYXJyLmZpbHRlcihzaGlwcyA9PiBzaGlwcy5pc1N1bmsoKSk7XG4gICAgICAgIGlmIChzdW5rZW5TaGlwcy5sZW5ndGggPT09IGFyci5sZW5ndGgpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVCb2FyZCxcbiAgICAgICAgcGxhY2VIb3Jpem9udGFsLFxuICAgICAgICBwbGFjZVZlcnQsXG4gICAgICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgICAgIGFsbFNoaXBzU3VuayxcbiAgICAgICAgc2NvdXQsXG4gICAgfVxufTtcblxuZXhwb3J0IHsgZ2FtZUJvYXJkRmFjdG9yeSB9OyIsIlxuY29uc3Qgc2hpcEZhY3RvcnkgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3Qgc2hpcCA9IFtdO1xuXG4gICAgY29uc3QgaGl0ID0gKHBvcykgPT4gc2hpcFtwb3NdID0gJ2hpdCc7XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBzdW5rID0gZmFsc2U7XG5cbiAgICAgICAgc2hpcC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT09ICdoaXQnKXtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvdW50ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHN1bmsgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VuayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bms7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNoaXAsXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgaGl0LFxuICAgICAgICBpc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgc2hpcEZhY3RvcnkgfTsiLCJpbXBvcnQgeyBnYW1lQm9hcmRGYWN0b3J5IH0gZnJvbSAnLi9nYW1lQm9hcmRGYWN0b3J5JztcbmltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IFBsYXllciA9IChuYW1lLCBpc0FjdGl2ZSA9IGZhbHNlKSA9PiB7XG5cbiAgICBsZXQgY2FycmllciA9IHNoaXBGYWN0b3J5KDUpO1xuICAgIGxldCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCk7XG4gICAgbGV0IGRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KDMpO1xuICAgIGxldCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzKTtcbiAgICBsZXQgcGF0cm9sQm9hdCA9IHNoaXBGYWN0b3J5KDIpO1xuICAgIFxuICAgIGxldCBzdGF0ZSA9IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgfVxuXG4gICAgbGV0IGJvYXJkID0gZ2FtZUJvYXJkRmFjdG9yeSgpO1xuXG4gICAgbGV0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGRlc3Ryb3llciwgc3VibWFyaW5lLCBwYXRyb2xCb2F0XTtcblxuICAgIGNvbnN0IGVuZW15TW92ZSA9ICgpID0+IHtcbiAgICAgICAgbGV0IHggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApKTtcbiAgICAgICAgbGV0IHkgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApKTtcblxuICAgICAgICByZXR1cm4gW3gsIHldO1xuICAgIH1cbiAgICBsZXQgcG9zNSA9IDA7XG4gICAgbGV0IHBvczQgPSAwO1xuICAgIGxldCBwb3MzID0gMDtcbiAgICBsZXQgcG9zMiA9IDA7XG4gICAgbGV0IHBvczEgPSAwO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IG5hbWUoKXtyZXR1cm4gc3RhdGUubmFtZTt9LFxuICAgICAgICBnZXQgaXNBY3RpdmUoKXtyZXR1cm4gc3RhdGUuaXNBY3RpdmU7fSxcbiAgICAgICAgdG9nZ2xlKCl7IHN0YXRlLmlzQWN0aXZlID0gIXN0YXRlLmlzQWN0aXZlO30sXG4gICAgICAgIGJvYXJkLFxuICAgICAgICBzaGlwcyxcbiAgICAgICAgZW5lbXlNb3ZlLFxuICAgICAgICBwb3M1LFxuICAgICAgICBwb3M0LFxuICAgICAgICBwb3MzLFxuICAgICAgICBwb3MyLFxuICAgICAgICBwb3MxLFxuICAgIH1cbn07XG5cbmV4cG9ydCB7IFBsYXllciB9OyIsImNvbnN0IHJlbmRlckdCb2FyZCA9IChnYW1lQm9hcmQsIG51bSkgPT4ge1xuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY29udGFpbmVyJHtudW19YCk7XG4gICAgbGV0IHJvdzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3cxLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MScpO1xuICAgIGxldCByb3cyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93Mi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzInKTtcbiAgICBsZXQgcm93MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzMuc2V0QXR0cmlidXRlKCdpZCcsICdyb3czJyk7XG4gICAgbGV0IHJvdzQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c0LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93NCcpO1xuICAgIGxldCByb3c1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93NS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzUnKTtcbiAgICBsZXQgcm93NiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzYuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c2Jyk7XG4gICAgbGV0IHJvdzcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c3LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93NycpO1xuICAgIGxldCByb3c4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93OC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzgnKTtcbiAgICBsZXQgcm93OSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzkuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c5Jyk7XG4gICAgbGV0IHJvdzEwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93MTAuc2V0QXR0cmlidXRlKCdpZCcsICdyb3cxMCcpO1xuXG4gICAgZ2FtZUJvYXJkLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgaXRlbS5mb3JFYWNoKGZ1bmN0aW9uKHN1Yml0ZW0sIHN1YmluZGV4KSB7XG4gICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuc2V0QXR0cmlidXRlKCdpZCcsIGBzcXVhcmVEaXYke2luZGV4fSR7c3ViaW5kZXh9YCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnLCBzdWJpbmRleCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXgtY29vcmQnLCBpbmRleCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuc2V0QXR0cmlidXRlKCdkYXRhLWhhcy1zaGlwJywgc3ViaXRlbS5oYXNTaGlwKTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaXMtc2hvdCcsIHN1Yml0ZW0uaXNTaG90KTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5jbGFzc0xpc3QuYWRkKGBhdGtEaXYke251bX1gKTtcbiAgICAgICAgICAgIHNxdWFyZURpdi50ZXh0Q29udGVudCA9IHN1Yml0ZW0uaGFzU2hpcDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKyl7XG4gICAgICAgICAgICAgICAgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjAke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzEuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjEke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzIuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjIke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzMuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjMke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzQuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjQke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzUuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjUke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzYuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjYke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzcuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjcke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzguYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjgke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzkuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT0gYHNxdWFyZURpdjkke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzEwLmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzMpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzQpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzUpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzYpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzcpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzgpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzkpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBhdGtMaXN0ZW5lciA9IChwbGF5ZXIsIGVuZW15LCBudW0pID0+IHtcbiAgICBsZXQgZ2FtZUJvYXJkID0gZW5lbXkuYm9hcmQ7XG4gICAgbGV0IHNoaXBzID0gZW5lbXkuc2hpcHM7XG4gICAgbGV0IHJlc3BvbnNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShgYXRrRGl2JHtudW19YCk7XG4gICAgbGV0IGlzU2hvdDtcbiAgICBsZXQgeVBvaW50O1xuICAgIGxldCB4UG9pbnQ7XG4gICAgbGV0IHNoaXBMZW5ndGg7XG4gICAgbGV0IHNoaXBUeXBlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHJlc3BvbnNlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzQWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeVBvaW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnKTtcbiAgICAgICAgICAgICAgICB4UG9pbnQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteC1jb29yZCcpO1xuICAgICAgICAgICAgICAgIGlzU2hvdCA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdLmlzU2hvdDtcbiAgICAgICAgICAgICAgICBzaGlwTGVuZ3RoID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4UG9pbnRdW3lQb2ludF0uc2hpcExlbmd0aDtcbiAgICAgICAgICAgICAgICBzaGlwVHlwZSA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdLnNoaXBUeXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzU2hvdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1oYXMtc2hpcCcpID09PSAndHJ1ZScpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JleSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBnYW1lQm9hcmQucmVjZWl2ZUF0dGFjayh4UG9pbnQsIHlQb2ludCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcFR5cGUgPT0gJ0NhcnJpZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhoaXRTaGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KGVuZW15LnBvczUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkucG9zNSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdCYXR0bGVzaGlwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQoZW5lbXkucG9zNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5wb3M0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ0Rlc3Ryb3llcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KGVuZW15LnBvczMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkucG9zMyArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdTdWJtYXJpbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRTaGlwWzFdLmhpdChlbmVteS5wb3MyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnBvczIgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnUGF0cm9sYm9hdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KGVuZW15LnBvczEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkucG9zMSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lQm9hcmQuYWxsU2hpcHNTdW5rKHNoaXBzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BsYXllciB3b24hJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5Nc2coJ1BsYXllcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuYm9hcmQuYWxsU2hpcHNTdW5rKHBsYXllci5zaGlwcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb21wdXRlciB3b24hJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5Nc2coJ0NvbXB1dGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSAhPT0gJ0hpdCcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gcGxheWVyLmVuZW15TW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb29yZGluYXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIGNvb3JkaW5hdGVzWzBdLCBjb29yZGluYXRlc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGdhbWVCb2FyZC5nYW1lQm9hcmRbeFBvaW50XVt5UG9pbnRdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuXG5jb25zdCBlbmVteUF0dGFjayA9IChwbGF5ZXIsIGVuZW15LCB4LCB5KSA9PiB7XG4gICAgbGV0IGdhbWVCb2FyZCA9IHBsYXllci5ib2FyZDtcbiAgICBjb25zb2xlLmxvZyhnYW1lQm9hcmQpO1xuICAgIGxldCBzaGlwcyA9IHBsYXllci5zaGlwcztcbiAgICBsZXQgaXNTaG90ID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4XVt5XS5pc1Nob3Q7O1xuICAgIGxldCBoYXNTaGlwID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwO1xuICAgIGxldCBzaGlwTGVuZ3RoID0gZ2FtZUJvYXJkLmdhbWVCb2FyZFt4XVt5XS5zaGlwTGVuZ3RoO1xuICAgIGxldCBzaGlwVHlwZSA9IGdhbWVCb2FyZC5nYW1lQm9hcmRbeF1beV0uc2hpcFR5cGU7XG4gICAgbGV0IHBhbmVsO1xuICAgIGlmICh4ID09PSAwKXtcbiAgICAgICAgcGFuZWwgPSB5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhbmVsID0gJycgKyB4ICsgeTtcbiAgICB9XG4gICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0a0RpdjEnKVtwYW5lbF07ICBcblxuXG4gICAgaWYgKGVuZW15LmlzQWN0aXZlID09PSB0cnVlKSB7XG5cbiAgICAgICAgaWYgKGlzU2hvdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChoYXNTaGlwID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JleSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGdhbWVCb2FyZC5yZWNlaXZlQXR0YWNrKHgsIHkpO1xuXG4gICAgICAgICAgICBpZiAoc2hpcFR5cGUgPT0gJ0NhcnJpZXInKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChwbGF5ZXIucG9zNSk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBvczUgKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ0JhdHRsZXNoaXAnKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBoaXRTaGlwWzBdLmhpdChwbGF5ZXIucG9zNCk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBvczQgKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ0Rlc3Ryb3llcicpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgaGl0U2hpcCA9IHNoaXBzLmZpbHRlcihzaGlwID0+IHNoaXAubGVuZ3RoID09IHNoaXBMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KHBsYXllci5wb3MzKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucG9zMyArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnU3VibWFyaW5lJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaGl0U2hpcFsxXS5oaXQocGxheWVyLnBvczIpO1xuICAgICAgICAgICAgICAgIHBsYXllci5wb3MyICs9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdQYXRyb2xib2F0Jykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocGxheWVyLnBvczEpO1xuICAgICAgICAgICAgICAgIHBsYXllci5wb3MxICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2FtZUJvYXJkLmFsbFNoaXBzU3VuayhzaGlwcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29tcHV0ZXIgd29uIScpO1xuICAgICAgICAgICAgICAgIHdpbk1zZygnQ29tcHV0ZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5lbXkuYm9hcmQuYWxsU2hpcHNTdW5rKGVuZW15LnNoaXBzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIHdvbiEnKTtcbiAgICAgICAgICAgICAgICB3aW5Nc2coJ1VzZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobWVzc2FnZSAhPT0gJ0hpdCcpe1xuICAgICAgICAgICAgICAgIHBsYXllci50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICBlbmVteS50b2dnbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKSArIDEpe1xuICAgICAgICAgICAgICAgICAgICAvL0lmIGhpdCBsYW5kcywgYXR0YWNrIGFkamFjZW50IHJpZ2h0IHRpbGUsIHVubGVzcyB0aGVyZSdzIG5vIHJpZ2h0IHRpbGUsIHRoZW4gc3RyaWtlXG4gICAgICAgICAgICAgICAgICAgIC8vYm90dG9tIHRpbGUsIHVubGVzcyB0aGVyZSdzIG5vIGJvdHRvbSB0aWxlLCB0aGVuIHN0cmlrZSB0aWxlIGFib3ZlXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHkgKyAxKSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgeCwgeSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHggKyAxKSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgeCArIDEsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2socGxheWVyLCBlbmVteSwgeCAtIDEsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL0lmIGhpdCBsYW5kcywgYXR0YWNrIGFkamFjZW50IGJvdHRvbSB0aWxlLCB1bmxlc3MgdGhlcmUncyBubyBib3R0b20gdGlsZSwgdGhlbiBzdHJpa2VcbiAgICAgICAgICAgICAgICAgICAgLy9hZGphY2VudCB0aWxlIHRvIHJpZ2h0LCB1bmxlc3MgdGhlcmUncyBubyB0aWxlIHRvIHJpZ2h0LCB0aGVuIHN0cmlrZSB0aWxlIHRvIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeCArIDEpIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIHggKyAxLCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh5ICsgMSkgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIHgsIHkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIHgsIHkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlcyA9IHBsYXllci5lbmVteU1vdmUoKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIGVuZW15QXR0YWNrKHBsYXllciwgZW5lbXksIGNvb3JkaW5hdGVzWzBdLCBjb29yZGluYXRlc1sxXSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgfTtcbn07XG5cbmNvbnN0IHBsYWNlUGllY2VzID0gKHBsYXllcikgPT4ge1xuXG4gICAgY29uc3Qgb25EcmFnT3ZlciA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgY29uc3Qgb25Ecm9wID0gKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteS1jb29yZCcpKTtcbiAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXgtY29vcmQnKSk7XG4gICAgICAgIGxldCB4ID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXgtY29vcmQnKSk7XG4gICAgICAgIGxldCB5ID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnKSk7XG4gICAgICAgIC8vIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgIGxldCBkYXRhID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dCcpO1xuICAgICAgICBsZXQgY2FycmllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDYXJyaWVyJyk7XG4gICAgICAgIGxldCBiYXR0bGVTaGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0JhdHRsZXNoaXAnKTtcbiAgICAgICAgbGV0IGRlc3Ryb3llciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNEZXN0cm95ZXInKTtcbiAgICAgICAgbGV0IHN1Yk1hcmluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTdWJtYXJpbmUnKTtcbiAgICAgICAgbGV0IHBhdHJvbEIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUGF0cm9sYm9hdCcpO1xuICAgICAgICBsZXQgYWxpZ24gPSBjYXJyaWVyLmdldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbm1lbnQnKTtcbiAgICAgICAgY29uc29sZS5sb2cocGxheWVyKTtcbiAgICAgICAgaWYgKGRhdGEgPT09ICdDYXJyaWVyJyl7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNjb3V0KHgsIHksIDUsIGFsaWduKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VIb3Jpem9udGFsKHgsIHksIDUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZVZlcnQoeCwgeSwgNSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhcnJpZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEgPT09ICdCYXR0bGVzaGlwJyl7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNjb3V0KHgsIHksIDQsIGFsaWduKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VIb3Jpem9udGFsKHgsIHksIDQsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZVZlcnQoeCwgeSwgNCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhdHRsZVNoaXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSA9PT0gJ0Rlc3Ryb3llcicpe1xuICAgICAgICAgICAgaWYgKHBsYXllci5zY291dCh4LCB5LCAzLCBhbGlnbikgPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdyb3cnKXtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlSG9yaXpvbnRhbCh4LCB5LCAzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB5Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnY29sdW1uJykge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VWZXJ0KHgsIHksIDMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXN0cm95ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSA9PT0gJ1N1Ym1hcmluZScpe1xuICAgICAgICAgICAgaWYgKHBsYXllci5zY291dCh4LCB5LCAzLCBhbGlnbikgPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdyb3cnKXtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlSG9yaXpvbnRhbCh4LCB5LCAzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB5Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnY29sdW1uJykge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxhY2VWZXJ0KHgsIHksIDMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3F1YXJlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZURpdiR7eH0ke3l9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJNYXJpbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSA9PT0gJ1BhdHJvbGJvYXQnKXtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuc2NvdXQoeCwgeSwgMiwgYWxpZ24pID09PSBmYWxzZSl7XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAncm93Jyl7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGFjZUhvcml6b250YWwoeCwgeSwgMiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcXVhcmVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3F1YXJlRGl2JHt4fSR7eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYWNlVmVydCh4LCB5LCAyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzcXVhcmVEaXYke3h9JHt5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0cm9sQi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByZXNwb25zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0a0RpdjEnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UubGVuZ3RoOyBpKyspe1xuICAgICAgICByZXNwb25zZVtpXS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRHJhZ092ZXIpO1xuICAgICAgICByZXNwb25zZVtpXS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgb25Ecm9wKTtcbiAgICB9O1xuXG59XG5cbmNvbnN0IGRlUmVuZGVyID0gKCkgPT4ge1xuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lcjFcIik7XG4gICAgd2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxufVxuXG5jb25zdCB3aW5Nc2cgPSAoc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lQ29udGFpbmVyJyk7XG4gICAgY29uc3Qgd2lubmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaWYgKHN0cmluZyA9PT0gJ1BsYXllcicpIHtcbiAgICAgICAgd2lubmVyRGl2LnRleHRDb250ZW50ID0gJ1lvdSBhcmUgdGhlIHdpbm5lciEnO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdHJpbmcgPT09ICdDb21wdXRlcicpIHtcbiAgICAgICAgd2lubmVyRGl2LnRleHRDb250ZW50ID0gJ0NvbXB1dGVyIGlzIHRoZSB3aW5uZXIhJztcbiAgICB9XG5cbiAgICBnYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKHdpbm5lckRpdik7XG59XG5cbmV4cG9ydCB7IFxuXG4gICAgcmVuZGVyR0JvYXJkLFxuICAgIGF0a0xpc3RlbmVyLFxuICAgIHBsYWNlUGllY2VzLFxuICAgIGRlUmVuZGVyLFxuIH07IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXJGYWN0b3J5JztcbmltcG9ydCB7IHJlbmRlckdCb2FyZCwgYXRrTGlzdGVuZXIsIHBsYWNlUGllY2VzLCBkZVJlbmRlciB9IGZyb20gJy4vcmVuZGVyJztcblxuY29uc3QgZ2FtZSA9ICgpID0+IHtcblxuICAgIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0QnRuJyk7XG4gICAgY29uc3QgYWxpZ25CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWxpZ25CdG4nKTtcbiAgICBjb25zdCBjYXJyaWVyRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDYXJyaWVyJyk7XG4gICAgY29uc3QgYmF0dGxlRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNCYXR0bGVzaGlwJyk7XG4gICAgY29uc3QgZGVzdHJEcmFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0Rlc3Ryb3llcicpO1xuICAgIGNvbnN0IHN1YkRyYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU3VibWFyaW5lJyk7XG4gICAgY29uc3QgcGF0cm9sRHJhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQYXRyb2xib2F0Jyk7XG4gICAgY2FycmllckRyYWcuY2xhc3NMaXN0LmFkZCgnaG9yaXpvbnRhbCcpO1xuICAgIGJhdHRsZURyYWcuY2xhc3NMaXN0LmFkZCgnaG9yaXpvbnRhbCcpO1xuICAgIGRlc3RyRHJhZy5jbGFzc0xpc3QuYWRkKCdob3Jpem9udGFsJyk7XG4gICAgc3ViRHJhZy5jbGFzc0xpc3QuYWRkKCdob3Jpem9udGFsJyk7XG4gICAgcGF0cm9sRHJhZy5jbGFzc0xpc3QuYWRkKCdob3Jpem9udGFsJyk7XG4gICAgY2FycmllckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xuICAgIGNhcnJpZXJEcmFnLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbm1lbnQnLCAncm93Jyk7XG5cbiAgICBjb25zdCBwbGF5ZXJBcnIgPSBbXG4gICAgICAgIFBsYXllcihcInBsYXllcjFcIiwgdHJ1ZSksXG4gICAgICAgIFBsYXllcihcImNvbXB1dGVyXCIsIGZhbHNlKVxuICAgIF07XG5cbiAgICBjb25zdCBvbkRyYWdTdGFydCA9IChlKSA9PiB7XG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBlLnRhcmdldC5pZCk7XG4gICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgIH1cblxuICAgIGNhcnJpZXJEcmFnLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KTtcbiAgICBiYXR0bGVEcmFnLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KTtcbiAgICBkZXN0ckRyYWcuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpO1xuICAgIHN1YkRyYWcuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpO1xuICAgIHBhdHJvbERyYWcuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpO1xuXG4gICAgcmVuZGVyR0JvYXJkKHBsYXllckFyclswXS5ib2FyZC5nYW1lQm9hcmQsIDEpO1xuXG4gICAgYWxpZ25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBpZiAoY2FycmllckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9PT0gJ3Jvdycpe1xuICAgICAgICAgICAgY2FycmllckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICAgICAgYmF0dGxlRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgICAgICBkZXN0ckRyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICAgICAgc3ViRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgICAgICBwYXRyb2xEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICAgICAgICAgIGNhcnJpZXJEcmFnLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbm1lbnQnLCAnY29sdW1uJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYXJyaWVyRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgICAgICBiYXR0bGVEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgICAgIGRlc3RyRHJhZy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgICAgICBzdWJEcmFnLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgICAgIHBhdHJvbERyYWcuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xuICAgICAgICAgICAgY2FycmllckRyYWcuc2V0QXR0cmlidXRlKCdkYXRhLWFsaWdubWVudCcsICdyb3cnKTtcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgIHBsYWNlUGllY2VzKHBsYXllckFyclswXS5ib2FyZCk7XG5cbiAgICBzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGRlUmVuZGVyKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHBsYXllckFyclswXS5ib2FyZC5nYW1lQm9hcmQpO1xuICAgICAgICByZW5kZXJHQm9hcmQocGxheWVyQXJyWzBdLmJvYXJkLmdhbWVCb2FyZCwgMSk7XG4gICAgICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZUhvcml6b250YWwoOCwgMSwgNSwgJ0NhcnJpZXInKTtcbiAgICAgICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlSG9yaXpvbnRhbCgzLCA1LCA0LCAnQmF0dGxlc2hpcCcpO1xuICAgICAgICBwbGF5ZXJBcnJbMV0uYm9hcmQucGxhY2VIb3Jpem9udGFsKDYsIDMsIDMsICdEZXN0cm95ZXInKTtcbiAgICAgICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlSG9yaXpvbnRhbCgxLCAxLCAzLCAnU3VibWFyaW5lJyk7XG4gICAgICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZUhvcml6b250YWwoMCwgNiwgMiwgJ1BhdHJvbGJvYXQnKTtcbiAgICAgICAgcmVuZGVyR0JvYXJkKHBsYXllckFyclsxXS5ib2FyZC5nYW1lQm9hcmQsIDIpO1xuICAgICAgICBhdGtMaXN0ZW5lcihwbGF5ZXJBcnJbMF0sIHBsYXllckFyclsxXSwgMik7XG4gICAgfSk7XG5cbn07XG5cbmV4cG9ydCB7IGdhbWUgfTsiLCJpbXBvcnQgeyBnYW1lIH0gZnJvbSAnLi9nYW1lJztcblxuZ2FtZSgpOyJdLCJuYW1lcyI6WyJzaGlwRmFjdG9yeSIsImxlbmd0aCIsInNoaXAiLCJoaXQiLCJwb3MiLCJpc1N1bmsiLCJjb3VudCIsInN1bmsiLCJmb3JFYWNoIiwiaXRlbSIsIlBsYXllciIsIm5hbWUiLCJpc0FjdGl2ZSIsImNhcnJpZXIiLCJiYXR0bGVzaGlwIiwiZGVzdHJveWVyIiwic3VibWFyaW5lIiwicGF0cm9sQm9hdCIsInN0YXRlIiwidG9nZ2xlIiwiYm9hcmQiLCJnYW1lQm9hcmQiLCJpIiwiaiIsImhhc1NoaXAiLCJpc1Nob3QiLCJzaGlwTGVuZ3RoIiwic2hpcFR5cGUiLCJ4UG9pbnQiLCJ5UG9pbnQiLCJwbGFjZUhvcml6b250YWwiLCJ4IiwieSIsInBsYWNlVmVydCIsInJlY2VpdmVBdHRhY2siLCJhbGxTaGlwc1N1bmsiLCJhcnIiLCJmaWx0ZXIiLCJzaGlwcyIsInNjb3V0IiwiYWxpZ25tZW50IiwicmVwb3J0IiwiZ2FtZUJvYXJkRmFjdG9yeSIsImVuZW15TW92ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInBvczUiLCJwb3M0IiwicG9zMyIsInBvczIiLCJwb3MxIiwicmVuZGVyR0JvYXJkIiwibnVtIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicm93MSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyb3cyIiwicm93MyIsInJvdzQiLCJyb3c1Iiwicm93NiIsInJvdzciLCJyb3c4Iiwicm93OSIsInJvdzEwIiwiaW5kZXgiLCJzdWJpdGVtIiwic3ViaW5kZXgiLCJzcXVhcmVEaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImdldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiZW5lbXlBdHRhY2siLCJwbGF5ZXIiLCJlbmVteSIsImNvbnNvbGUiLCJsb2ciLCJwYW5lbCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIm1lc3NhZ2UiLCJ3aW5Nc2ciLCJjb29yZGluYXRlcyIsInN0cmluZyIsImdhbWVDb250YWluZXIiLCJ3aW5uZXJEaXYiLCJzdGFydEJ0biIsImFsaWduQnRuIiwiY2FycmllckRyYWciLCJiYXR0bGVEcmFnIiwiZGVzdHJEcmFnIiwic3ViRHJhZyIsInBhdHJvbERyYWciLCJmbGV4RGlyZWN0aW9uIiwicGxheWVyQXJyIiwib25EcmFnU3RhcnQiLCJlIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsInRhcmdldCIsImlkIiwiY3VycmVudFRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkRyYWdPdmVyIiwicHJldmVudERlZmF1bHQiLCJvbkRyb3AiLCJwYXJzZUludCIsImRhdGEiLCJnZXREYXRhIiwiYmF0dGxlU2hpcCIsInN1Yk1hcmluZSIsInBhdHJvbEIiLCJhbGlnbiIsImdldEVsZW1lbnRCeUlkIiwiZGlzcGxheSIsInJlc3BvbnNlIiwicGxhY2VQaWVjZXMiLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkZVJlbmRlciIsImhpdFNoaXAiLCJhdGtMaXN0ZW5lciIsImdhbWUiXSwic291cmNlUm9vdCI6IiJ9