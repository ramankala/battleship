(()=>{"use strict";const t=t=>{const e=[];return{ship:e,length:t,hit:t=>e[t]="hit",isSunk:()=>{let i=0,r=!1;return e.forEach((function(t){"hit"===t&&(i+=1)})),r=i===t,r}}},e=(e,i=!1)=>{let r=t(5),a=t(4),d=t(3),l=t(3),o=t(2),n={name:e,isActive:i};return{get name(){return n.name},get isActive(){return n.isActive},toggle(){n.isActive=!n.isActive},board:(()=>{let t=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];for(let e=0;e<10;e++)for(let i=0;i<10;i++)t[e][i]={hasShip:!1,isShot:!1,shipLength:0,shipType:"n/a"};return{gameBoard:t,placeShip:(e,i,r,a)=>{for(let d=0;d<r;d++)t[e][i].hasShip=!0,t[e][i].shipLength=r,t[e][i].shipType=a,i+=1;return t},receiveAttack:(e,i)=>!0===t[e][i].hasShip?(t[e][i].isShot=!0,"Hit"):(t[e][i].isShot=!0,t),allShipsSunk:t=>t.filter((t=>t.isSunk())).length===t.length}})(),ships:[r,a,d,l,o]}},i=(t,e)=>{let i=document.querySelector(`#container${e}`),r=document.createElement("div");r.setAttribute("id","row1");let a=document.createElement("div");a.setAttribute("id","row2");let d=document.createElement("div");d.setAttribute("id","row3");let l=document.createElement("div");l.setAttribute("id","row4");let o=document.createElement("div");o.setAttribute("id","row5");let n=document.createElement("div");n.setAttribute("id","row6");let p=document.createElement("div");p.setAttribute("id","row7");let h=document.createElement("div");h.setAttribute("id","row8");let s=document.createElement("div");s.setAttribute("id","row9");let u=document.createElement("div");u.setAttribute("id","row10"),t.forEach((function(t,c){t.forEach((function(t,b){let g=document.createElement("div");g.setAttribute("id",`squareDiv${c}${b}`),g.setAttribute("data-y-coord",c),g.setAttribute("data-x-coord",b),g.setAttribute("data-has-ship",t.hasShip),g.setAttribute("data-ship-length",t.shipLength),g.setAttribute("data-ship-type",t.shipType),g.classList.add(`atkDiv${e}`),g.textContent=t.hasShip;for(let t=0;t<10;t++)g.getAttribute("id")===`squareDiv0${t}`?r.appendChild(g):g.getAttribute("id")===`squareDiv1${t}`?a.appendChild(g):g.getAttribute("id")===`squareDiv2${t}`?d.appendChild(g):g.getAttribute("id")===`squareDiv3${t}`?l.appendChild(g):g.getAttribute("id")===`squareDiv4${t}`?o.appendChild(g):g.getAttribute("id")===`squareDiv5${t}`?n.appendChild(g):g.getAttribute("id")===`squareDiv6${t}`?p.appendChild(g):g.getAttribute("id")===`squareDiv7${t}`?h.appendChild(g):g.getAttribute("id")===`squareDiv8${t}`?s.appendChild(g):g.getAttribute("id")===`squareDiv9${t}`&&u.appendChild(g);i.appendChild(r),i.appendChild(a),i.appendChild(d),i.appendChild(l),i.appendChild(o),i.appendChild(n),i.appendChild(p),i.appendChild(h),i.appendChild(s),i.appendChild(u)}))}))},r=(t,e,i)=>{let r,a,d,l,o=t.board,n=t.ships,p=document.getElementsByClassName(`atkDiv${i}`),h=0,s=0,u=0,c=0,b=0;for(let i=0;i<p.length;i++)p[i].addEventListener("click",(function(i){!0===t.isActive&&(r=i.target.getAttribute("data-y-coord"),a=i.target.getAttribute("data-y-coord"),d=i.target.getAttribute("data-ship-length"),l=i.target.getAttribute("data-ship-type"),"true"===i.target.getAttribute("data-has-ship")?i.target.style.backgroundColor="red":i.target.style.backgroundColor="grey",o.receiveAttack(a,r),"Carrier"==l?(n.filter((t=>t.length==d))[0].hit(h),h+=1):"Battleship"==l?(n.filter((t=>t.length==d))[0].hit(s),s+=1):"Destroyer"==l?(n.filter((t=>t.length==d))[0].hit(u),u+=1):"Submarine"==l?(n.filter((t=>t.length==d))[1].hit(c),c+=1):"Patrolboat"==l&&(n.filter((t=>t.length==d))[0].hit(b),b+=1),t.toggle(),e.toggle())}))};(()=>{const t=[e("player1",!0),e("computer",!1)];t[0].board.placeShip(2,2,5,"Carrier"),t[0].board.placeShip(8,0,4,"Battleship"),t[0].board.placeShip(6,7,3,"Destroyer"),t[0].board.placeShip(5,1,3,"Submarine"),t[0].board.placeShip(1,7,2,"Patrolboat"),console.log(t[0].board.gameBoard),i(t[0].board.gameBoard,1),t[1].board.placeShip(8,1,5,"Carrier"),t[1].board.placeShip(3,5,4,"Battleship"),t[1].board.placeShip(6,3,3,"Destroyer"),t[1].board.placeShip(1,1,3,"Submarine"),t[1].board.placeShip(0,6,2,"Patrolboat"),console.log(t[1].board.gameBoard),i(t[1].board.gameBoard,2),r(t[0],t[1],1),r(t[1],t[0],2)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxjQUN0Q29ELEVBQVUsR0FBRzVELE1BQU1RLFVBQVUsRUFBRyxFQUFHLEVBQUcsYUFDdENvRCxFQUFVLEdBQUc1RCxNQUFNUSxVQUFVLEVBQUcsRUFBRyxFQUFHLGFBQ3RDb0QsRUFBVSxHQUFHNUQsTUFBTVEsVUFBVSxFQUFHLEVBQUcsRUFBRyxjQUN0Q3FELFFBQVFDLElBQUlGLEVBQVUsR0FBRzVELE1BQU1DLFdBQy9CZ0IsRUFBYTJDLEVBQVUsR0FBRzVELE1BQU1DLFVBQVcsR0FFM0MyRCxFQUFVLEdBQUc1RCxNQUFNUSxVQUFVLEVBQUcsRUFBRyxFQUFHLFdBQ3RDb0QsRUFBVSxHQUFHNUQsTUFBTVEsVUFBVSxFQUFHLEVBQUcsRUFBRyxjQUN0Q29ELEVBQVUsR0FBRzVELE1BQU1RLFVBQVUsRUFBRyxFQUFHLEVBQUcsYUFDdENvRCxFQUFVLEdBQUc1RCxNQUFNUSxVQUFVLEVBQUcsRUFBRyxFQUFHLGFBQ3RDb0QsRUFBVSxHQUFHNUQsTUFBTVEsVUFBVSxFQUFHLEVBQUcsRUFBRyxjQUN0Q3FELFFBQVFDLElBQUlGLEVBQVUsR0FBRzVELE1BQU1DLFdBQy9CZ0IsRUFBYTJDLEVBQVUsR0FBRzVELE1BQU1DLFVBQVcsR0FFM0MwQyxFQUFZaUIsRUFBVSxHQUFJQSxFQUFVLEdBQUksR0FDeENqQixFQUFZaUIsRUFBVSxHQUFJQSxFQUFVLEdBQUksSUM1QjVDRyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lQm9hcmRGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXJGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IGdhbWVCb2FyZEZhY3RvcnkgPSAoKSA9PiB7XG4gICAgbGV0IGdhbWVCb2FyZCA9IFtcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspe1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW2ldW2pdID0gKHtoYXNTaGlwOiBmYWxzZSwgaXNTaG90OiBmYWxzZSwgc2hpcExlbmd0aDogMCwgc2hpcFR5cGU6ICduL2EnfSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuXG4gICAgY29uc3QgcGxhY2VTaGlwID0gKHgsIHksIHNoaXBMZW5ndGgsIHNoaXBUeXBlKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwID0gdHJ1ZTtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwTGVuZ3RoID0gc2hpcExlbmd0aDtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5zaGlwVHlwZSA9IHNoaXBUeXBlO1xuICAgICAgICAgICAgeSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYW1lQm9hcmQ7XG4gICAgfVxuXG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgICAgIGlmIChnYW1lQm9hcmRbeF1beV0uaGFzU2hpcCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICBnYW1lQm9hcmRbeF1beV0uaXNTaG90ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAnSGl0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5pc1Nob3QgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGdhbWVCb2FyZDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoYXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1bmtlblNoaXBzID0gYXJyLmZpbHRlcihzaGlwcyA9PiBzaGlwcy5pc1N1bmsoKSk7XG4gICAgICAgIGlmIChzdW5rZW5TaGlwcy5sZW5ndGggPT09IGFyci5sZW5ndGgpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVCb2FyZCxcbiAgICAgICAgcGxhY2VTaGlwLFxuICAgICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgICBhbGxTaGlwc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgZ2FtZUJvYXJkRmFjdG9yeSB9OyIsIlxuY29uc3Qgc2hpcEZhY3RvcnkgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3Qgc2hpcCA9IFtdO1xuXG4gICAgY29uc3QgaGl0ID0gKHBvcykgPT4gc2hpcFtwb3NdID0gJ2hpdCc7XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBzdW5rID0gZmFsc2U7XG5cbiAgICAgICAgc2hpcC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT09ICdoaXQnKXtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvdW50ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHN1bmsgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VuayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bms7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNoaXAsXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgaGl0LFxuICAgICAgICBpc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgc2hpcEZhY3RvcnkgfTsiLCJpbXBvcnQgeyBnYW1lQm9hcmRGYWN0b3J5IH0gZnJvbSAnLi9nYW1lQm9hcmRGYWN0b3J5JztcbmltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IFBsYXllciA9IChuYW1lLCBpc0FjdGl2ZSA9IGZhbHNlKSA9PiB7XG5cbiAgICBsZXQgY2FycmllciA9IHNoaXBGYWN0b3J5KDUpO1xuICAgIGxldCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCk7XG4gICAgbGV0IGRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KDMpO1xuICAgIGxldCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzKTtcbiAgICBsZXQgcGF0cm9sQm9hdCA9IHNoaXBGYWN0b3J5KDIpO1xuICAgIFxuICAgIGxldCBzdGF0ZSA9IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgfVxuXG4gICAgbGV0IGJvYXJkID0gZ2FtZUJvYXJkRmFjdG9yeSgpO1xuXG4gICAgbGV0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGRlc3Ryb3llciwgc3VibWFyaW5lLCBwYXRyb2xCb2F0XTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldCBuYW1lKCl7cmV0dXJuIHN0YXRlLm5hbWU7fSxcbiAgICAgICAgZ2V0IGlzQWN0aXZlKCl7cmV0dXJuIHN0YXRlLmlzQWN0aXZlO30sXG4gICAgICAgIHRvZ2dsZSgpeyBzdGF0ZS5pc0FjdGl2ZSA9ICFzdGF0ZS5pc0FjdGl2ZTt9LFxuICAgICAgICBib2FyZCxcbiAgICAgICAgc2hpcHMsXG4gICAgfVxufTtcblxuZXhwb3J0IHsgUGxheWVyIH07IiwiXG5jb25zdCByZW5kZXJHQm9hcmQgPSAoZ2FtZUJvYXJkLCBudW0pID0+IHtcbiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NvbnRhaW5lciR7bnVtfWApO1xuICAgIGxldCByb3cxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93MS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzEnKTtcbiAgICBsZXQgcm93MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzIuc2V0QXR0cmlidXRlKCdpZCcsICdyb3cyJyk7XG4gICAgbGV0IHJvdzMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3czLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MycpO1xuICAgIGxldCByb3c0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93NC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzQnKTtcbiAgICBsZXQgcm93NSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzUuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c1Jyk7XG4gICAgbGV0IHJvdzYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c2LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93NicpO1xuICAgIGxldCByb3c3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93Ny5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzcnKTtcbiAgICBsZXQgcm93OCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzguc2V0QXR0cmlidXRlKCdpZCcsICdyb3c4Jyk7XG4gICAgbGV0IHJvdzkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c5LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93OScpO1xuICAgIGxldCByb3cxMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzEwLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MTAnKTtcblxuICAgIGdhbWVCb2FyZC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbihzdWJpdGVtLCBzdWJpbmRleCkge1xuICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBgc3F1YXJlRGl2JHtpbmRleH0ke3N1YmluZGV4fWApO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS15LWNvb3JkJywgaW5kZXgpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS14LWNvb3JkJywgc3ViaW5kZXgpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oYXMtc2hpcCcsIHN1Yml0ZW0uaGFzU2hpcCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXNoaXAtbGVuZ3RoJywgc3ViaXRlbS5zaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgIHNxdWFyZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2hpcC10eXBlJywgc3ViaXRlbS5zaGlwVHlwZSk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuY2xhc3NMaXN0LmFkZChgYXRrRGl2JHtudW19YCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYudGV4dENvbnRlbnQgPSBzdWJpdGVtLmhhc1NoaXA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2MCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gYHNxdWFyZURpdjEke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzIuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGBzcXVhcmVEaXYyJHtpfWApe1xuICAgICAgICAgICAgICAgICAgICByb3czLmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2MyR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93NC5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gYHNxdWFyZURpdjQke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzUuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGBzcXVhcmVEaXY1JHtpfWApe1xuICAgICAgICAgICAgICAgICAgICByb3c2LmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2NiR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Ny5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gYHNxdWFyZURpdjcke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzguYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGBzcXVhcmVEaXY4JHtpfWApe1xuICAgICAgICAgICAgICAgICAgICByb3c5LmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2OSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MTAuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzMpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzQpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzUpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzYpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzcpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzgpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzkpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBhdGtMaXN0ZW5lciA9IChwbGF5ZXIsIGVuZW15LCBudW0pID0+IHtcbiAgICBsZXQgZ2FtZUJvYXJkID0gcGxheWVyLmJvYXJkO1xuICAgIGxldCBzaGlwcyA9IHBsYXllci5zaGlwcztcbiAgICBsZXQgcmVzcG9uc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGBhdGtEaXYke251bX1gKTtcbiAgICBsZXQgeVBvaW50O1xuICAgIGxldCB4UG9pbnQ7XG4gICAgbGV0IHNoaXBMZW5ndGg7XG4gICAgbGV0IHNoaXBUeXBlO1xuICAgIGxldCBwb3M1ID0gMDtcbiAgICBsZXQgcG9zNCA9IDA7XG4gICAgbGV0IHBvczMgPSAwO1xuICAgIGxldCBwb3MyID0gMDtcbiAgICBsZXQgcG9zMSA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgcmVzcG9uc2VbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAocGxheWVyLmlzQWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeVBvaW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnKTtcbiAgICAgICAgICAgICAgICB4UG9pbnQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteS1jb29yZCcpO1xuICAgICAgICAgICAgICAgIHNoaXBMZW5ndGggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2hpcC1sZW5ndGgnKTtcbiAgICAgICAgICAgICAgICBzaGlwVHlwZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zaGlwLXR5cGUnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWhhcy1zaGlwJykgPT09ICd0cnVlJyl7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmV5JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FtZUJvYXJkLnJlY2VpdmVBdHRhY2soeFBvaW50LCB5UG9pbnQpO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChzaGlwVHlwZSA9PSAnQ2FycmllcicpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KHBvczUpO1xuICAgICAgICAgICAgICAgICAgICBwb3M1ICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnQmF0dGxlc2hpcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gc2hpcHMuZmlsdGVyKHNoaXAgPT4gc2hpcC5sZW5ndGggPT0gc2hpcExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGhpdFNoaXBbMF0uaGl0KHBvczQpO1xuICAgICAgICAgICAgICAgICAgICBwb3M0ICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnRGVzdHJveWVyJykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocG9zMyk7XG4gICAgICAgICAgICAgICAgICAgICBwb3MzICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnU3VibWFyaW5lJykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFsxXS5oaXQocG9zMik7XG4gICAgICAgICAgICAgICAgICAgIHBvczIgKz0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBUeXBlID09ICdQYXRyb2xib2F0Jykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFNoaXAgPSBzaGlwcy5maWx0ZXIoc2hpcCA9PiBzaGlwLmxlbmd0aCA9PSBzaGlwTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaGl0U2hpcFswXS5oaXQocG9zMSk7XG4gICAgICAgICAgICAgICAgICAgIHBvczEgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxheWVyLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgIGVuZW15LnRvZ2dsZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuZXhwb3J0IHsgXG5cbiAgICByZW5kZXJHQm9hcmQsXG4gICAgYXRrTGlzdGVuZXIsXG4gfTsiLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3BsYXllckZhY3RvcnknO1xuaW1wb3J0IHsgcmVuZGVyR0JvYXJkLCBhdGtMaXN0ZW5lciB9IGZyb20gJy4vcmVuZGVyJztcblxuY29uc3QgZ2FtZSA9ICgpID0+IHtcblxuICAgIC8vY3JlYXRlIHBsYXllciBhbmQgY29tcHV0ZXIgcGxheWVyXG4gICAgLy9wb3B1bGF0ZSBnYW1lYm9hcmRzIGZvciBib3RoIHBsYXllcnNcblxuICAgIGNvbnN0IHBsYXllckFyciA9IFtcbiAgICAgICAgUGxheWVyKFwicGxheWVyMVwiLCB0cnVlKSxcbiAgICAgICAgUGxheWVyKFwiY29tcHV0ZXJcIiwgZmFsc2UpXG4gICAgXTtcblxuICAgIHBsYXllckFyclswXS5ib2FyZC5wbGFjZVNoaXAoMiwgMiwgNSwgJ0NhcnJpZXInKTtcbiAgICBwbGF5ZXJBcnJbMF0uYm9hcmQucGxhY2VTaGlwKDgsIDAsIDQsICdCYXR0bGVzaGlwJyk7XG4gICAgcGxheWVyQXJyWzBdLmJvYXJkLnBsYWNlU2hpcCg2LCA3LCAzLCAnRGVzdHJveWVyJyk7XG4gICAgcGxheWVyQXJyWzBdLmJvYXJkLnBsYWNlU2hpcCg1LCAxLCAzLCAnU3VibWFyaW5lJyk7XG4gICAgcGxheWVyQXJyWzBdLmJvYXJkLnBsYWNlU2hpcCgxLCA3LCAyLCAnUGF0cm9sYm9hdCcpO1xuICAgIGNvbnNvbGUubG9nKHBsYXllckFyclswXS5ib2FyZC5nYW1lQm9hcmQpO1xuICAgIHJlbmRlckdCb2FyZChwbGF5ZXJBcnJbMF0uYm9hcmQuZ2FtZUJvYXJkLCAxKTtcblxuICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZVNoaXAoOCwgMSwgNSwgJ0NhcnJpZXInKTtcbiAgICBwbGF5ZXJBcnJbMV0uYm9hcmQucGxhY2VTaGlwKDMsIDUsIDQsICdCYXR0bGVzaGlwJyk7XG4gICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlU2hpcCg2LCAzLCAzLCAnRGVzdHJveWVyJyk7XG4gICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlU2hpcCgxLCAxLCAzLCAnU3VibWFyaW5lJyk7XG4gICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlU2hpcCgwLCA2LCAyLCAnUGF0cm9sYm9hdCcpO1xuICAgIGNvbnNvbGUubG9nKHBsYXllckFyclsxXS5ib2FyZC5nYW1lQm9hcmQpO1xuICAgIHJlbmRlckdCb2FyZChwbGF5ZXJBcnJbMV0uYm9hcmQuZ2FtZUJvYXJkLCAyKTtcblxuICAgIGF0a0xpc3RlbmVyKHBsYXllckFyclswXSwgcGxheWVyQXJyWzFdLCAxKTtcbiAgICBhdGtMaXN0ZW5lcihwbGF5ZXJBcnJbMV0sIHBsYXllckFyclswXSwgMik7XG5cbiAgICAvL2lmIGF0a2xpc3RlbmVyIHJldHVybnMgdHJ1ZSwgaGl0IHRoZSByaWdodCBzaGlwXG4gICAgLy9uZWVkIHRvIGZpZ3VyZSBvdXQgaG93IHRvIGhpdCB0aGUgcmlnaHQgc2hpcCBpbiB0aGUgYmFjay1lbmRcblxuXG5cblxufTtcblxuZXhwb3J0IHsgZ2FtZSB9OyIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL2dhbWUnO1xuXG5nYW1lKCk7Il0sIm5hbWVzIjpbInNoaXBGYWN0b3J5IiwibGVuZ3RoIiwic2hpcCIsImhpdCIsInBvcyIsImlzU3VuayIsImNvdW50Iiwic3VuayIsImZvckVhY2giLCJpdGVtIiwiUGxheWVyIiwibmFtZSIsImlzQWN0aXZlIiwiY2FycmllciIsImJhdHRsZXNoaXAiLCJkZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJwYXRyb2xCb2F0Iiwic3RhdGUiLCJ0b2dnbGUiLCJib2FyZCIsImdhbWVCb2FyZCIsImkiLCJqIiwiaGFzU2hpcCIsImlzU2hvdCIsInNoaXBMZW5ndGgiLCJzaGlwVHlwZSIsInBsYWNlU2hpcCIsIngiLCJ5IiwicmVjZWl2ZUF0dGFjayIsImFsbFNoaXBzU3VuayIsImFyciIsImZpbHRlciIsInNoaXBzIiwiZ2FtZUJvYXJkRmFjdG9yeSIsInJlbmRlckdCb2FyZCIsIm51bSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJvdzEiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwicm93MiIsInJvdzMiLCJyb3c0Iiwicm93NSIsInJvdzYiLCJyb3c3Iiwicm93OCIsInJvdzkiLCJyb3cxMCIsImluZGV4Iiwic3ViaXRlbSIsInN1YmluZGV4Iiwic3F1YXJlRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJnZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImF0a0xpc3RlbmVyIiwicGxheWVyIiwiZW5lbXkiLCJ5UG9pbnQiLCJ4UG9pbnQiLCJyZXNwb25zZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwb3M1IiwicG9zNCIsInBvczMiLCJwb3MyIiwicG9zMSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwbGF5ZXJBcnIiLCJjb25zb2xlIiwibG9nIiwiZ2FtZSJdLCJzb3VyY2VSb290IjoiIn0=