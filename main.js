(()=>{"use strict";const t=t=>{const e=[];return{length:t,hit:t=>e[t]="hit",isSunk:()=>{let i=0,r=!1;return e.forEach((function(t){"hit"===t&&(i+=1)})),r=i===t,r}}},e=(e,i=!1)=>{let r=t(5),a=t(4),d=t(3),o=t(3),l=t(2),n={name:e,isActive:i};return{get name(){return n.name},get isActive(){return n.isActive},toggle(){n.isActive=!n.isActive},board:(()=>{let t=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];for(let e=0;e<10;e++)for(let i=0;i<10;i++)t[e][i]={hasShip:!1,isShot:!1};return{gameBoard:t,placeShip:(e,i,r)=>{for(let a=0;a<r;a++)t[e][i].hasShip=!0,i+=1;return t},receiveAttack:(e,i)=>!0===t[e][i].hasShip?(t[e][i].isShot=!0,console.log(t),"Hit"):(t[e][i].isShot=!0,console.log(t),t),allShipsSunk:t=>t.filter((t=>t.isSunk())).length===t.length}})(),ships:[r,a,d,o,l]}},i=(t,e)=>{let i=document.querySelector(`#container${e}`),r=document.createElement("div");r.setAttribute("id","row1");let a=document.createElement("div");a.setAttribute("id","row2");let d=document.createElement("div");d.setAttribute("id","row3");let o=document.createElement("div");o.setAttribute("id","row4");let l=document.createElement("div");l.setAttribute("id","row5");let n=document.createElement("div");n.setAttribute("id","row6");let p=document.createElement("div");p.setAttribute("id","row7");let c=document.createElement("div");c.setAttribute("id","row8");let u=document.createElement("div");u.setAttribute("id","row9");let s=document.createElement("div");s.setAttribute("id","row10"),t.forEach((function(t,h){t.forEach((function(t,b){let g=document.createElement("div");g.setAttribute("id",`squareDiv${h}${b}`),g.setAttribute("data-y-coord",h),g.setAttribute("data-x-coord",b),g.setAttribute("data-has-ship",t.hasShip),g.classList.add(`atkDiv${e}`),g.textContent=t.hasShip;for(let t=0;t<10;t++)g.getAttribute("id")===`squareDiv0${t}`?r.appendChild(g):g.getAttribute("id")===`squareDiv1${t}`?a.appendChild(g):g.getAttribute("id")===`squareDiv2${t}`?d.appendChild(g):g.getAttribute("id")===`squareDiv3${t}`?o.appendChild(g):g.getAttribute("id")===`squareDiv4${t}`?l.appendChild(g):g.getAttribute("id")===`squareDiv5${t}`?n.appendChild(g):g.getAttribute("id")===`squareDiv6${t}`?p.appendChild(g):g.getAttribute("id")===`squareDiv7${t}`?c.appendChild(g):g.getAttribute("id")===`squareDiv8${t}`?u.appendChild(g):g.getAttribute("id")===`squareDiv9${t}`&&s.appendChild(g);i.appendChild(r),i.appendChild(a),i.appendChild(d),i.appendChild(o),i.appendChild(l),i.appendChild(n),i.appendChild(p),i.appendChild(c),i.appendChild(u),i.appendChild(s)}))}))},r=(t,e)=>{let i=document.getElementsByClassName(`atkDiv${e}`);for(let e=0;e<i.length;e++)i[e].addEventListener("click",(function(e){let i=e.target.getAttribute("data-y-coord"),r=e.target.getAttribute("data-y-coord");"true"===e.target.getAttribute("data-has-ship")?e.target.style.backgroundColor="red":e.target.style.backgroundColor="grey",console.log(e.target.getAttribute("data-has-ship")),t.receiveAttack(r,i)}))};(()=>{const t=[e("player1",!0),e("computer",!1)];t[0].board.placeShip(2,2,5),t[0].board.placeShip(8,0,4),t[0].board.placeShip(6,7,3),t[0].board.placeShip(5,1,3),t[0].board.placeShip(1,7,2),console.log(t[0].board.gameBoard),i(t[0].board.gameBoard,1),t[1].board.placeShip(8,1,5),t[1].board.placeShip(3,5,4),t[1].board.placeShip(6,3,3),t[1].board.placeShip(1,1,3),t[1].board.placeShip(0,6,2),console.log(t[1].board.gameBoard),i(t[1].board.gameBoard,2),r(t[0].board,1),r(t[1].board,2)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBRUEsTUNETUEsRUFBZUMsSUFDakIsTUFBTUMsRUFBTyxHQXNCYixNQUFPLENBQ0hELE9BQUFBLEVBQ0FFLElBdEJTQyxHQUFRRixFQUFLRSxHQUFPLE1BdUI3QkMsT0FyQlcsS0FDWCxJQUFJQyxFQUFRLEVBQ1JDLEdBQU8sRUFhWCxPQVhBTCxFQUFLTSxTQUFRLFNBQVNDLEdBQ0wsUUFBVEEsSUFDQUgsR0FBUyxNQUliQyxFQURBRCxJQUFVTCxFQU1QTSxLQ2xCVEcsRUFBUyxDQUFDQyxFQUFNQyxHQUFXLEtBRTdCLElBQUlDLEVBQVViLEVBQVksR0FDdEJjLEVBQWFkLEVBQVksR0FDekJlLEVBQVlmLEVBQVksR0FDeEJnQixFQUFZaEIsRUFBWSxHQUN4QmlCLEVBQWFqQixFQUFZLEdBRXpCa0IsRUFBUSxDQUNSUCxLQUFBQSxFQUNBQyxTQUFBQSxHQU9KLE1BQU8sQ0FDQ0QsV0FBTyxPQUFPTyxFQUFNUCxNQUNwQkMsZUFBVyxPQUFPTSxFQUFNTixVQUM1Qk8sU0FBVUQsRUFBTU4sVUFBWU0sRUFBTU4sVUFDbENRLE1GdEJpQixNQUNyQixJQUFJQyxFQUFZLENBQ1osQ0FBRSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUN0QyxDQUFFLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ3RDLENBQUUsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDdEMsQ0FBRSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUN0QyxDQUFFLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ3RDLENBQUUsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDdEMsQ0FBRSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUN0QyxDQUFFLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ3RDLENBQUUsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDdEMsQ0FBRSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxLQUUxQyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNwQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNwQkYsRUFBVUMsR0FBR0MsR0FBSyxDQUFFQyxTQUFTLEVBQU9DLFFBQVEsR0FvQ3BELE1BQU8sQ0FDSEosVUFBQUEsRUFDQUssVUFqQ2MsQ0FBQ0MsRUFBR0MsRUFBR0MsS0FFckIsSUFBSyxJQUFJUCxFQUFJLEVBQUdBLEVBQUlPLEVBQVlQLElBQzVCRCxFQUFVTSxHQUFHQyxHQUFHSixTQUFVLEVBQzFCSSxHQUFLLEVBRVQsT0FBT1AsR0E0QlBTLGNBekJrQixDQUFDSCxFQUFHQyxLQUNVLElBQTVCUCxFQUFVTSxHQUFHQyxHQUFHSixTQUNoQkgsRUFBVU0sR0FBR0MsR0FBR0gsUUFBUyxFQUN6Qk0sUUFBUUMsSUFBSVgsR0FDTCxRQUVQQSxFQUFVTSxHQUFHQyxHQUFHSCxRQUFTLEVBQ3pCTSxRQUFRQyxJQUFJWCxHQUNMQSxHQWtCWFksYUFka0JDLEdBQ0VBLEVBQUlDLFFBQU9DLEdBQVNBLEVBQU0vQixXQUM5QkosU0FBV2lDLEVBQUlqQyxTRTdCdkJvQyxHQVNSRCxNQVBRLENBQUN2QixFQUFTQyxFQUFZQyxFQUFXQyxFQUFXQyxLQ2pCdERxQixFQUFlLENBQUNqQixFQUFXa0IsS0FDN0IsSUFBSUMsRUFBWUMsU0FBU0MsY0FBYyxhQUFhSCxLQUNoREksRUFBT0YsU0FBU0csY0FBYyxPQUNsQ0QsRUFBS0UsYUFBYSxLQUFNLFFBQ3hCLElBQUlDLEVBQU9MLFNBQVNHLGNBQWMsT0FDbENFLEVBQUtELGFBQWEsS0FBTSxRQUN4QixJQUFJRSxFQUFPTixTQUFTRyxjQUFjLE9BQ2xDRyxFQUFLRixhQUFhLEtBQU0sUUFDeEIsSUFBSUcsRUFBT1AsU0FBU0csY0FBYyxPQUNsQ0ksRUFBS0gsYUFBYSxLQUFNLFFBQ3hCLElBQUlJLEVBQU9SLFNBQVNHLGNBQWMsT0FDbENLLEVBQUtKLGFBQWEsS0FBTSxRQUN4QixJQUFJSyxFQUFPVCxTQUFTRyxjQUFjLE9BQ2xDTSxFQUFLTCxhQUFhLEtBQU0sUUFDeEIsSUFBSU0sRUFBT1YsU0FBU0csY0FBYyxPQUNsQ08sRUFBS04sYUFBYSxLQUFNLFFBQ3hCLElBQUlPLEVBQU9YLFNBQVNHLGNBQWMsT0FDbENRLEVBQUtQLGFBQWEsS0FBTSxRQUN4QixJQUFJUSxFQUFPWixTQUFTRyxjQUFjLE9BQ2xDUyxFQUFLUixhQUFhLEtBQU0sUUFDeEIsSUFBSVMsRUFBUWIsU0FBU0csY0FBYyxPQUNuQ1UsRUFBTVQsYUFBYSxLQUFNLFNBRXpCeEIsRUFBVWIsU0FBUSxTQUFTQyxFQUFNOEMsR0FDN0I5QyxFQUFLRCxTQUFRLFNBQVNnRCxFQUFTQyxHQUMzQixJQUFJQyxFQUFZakIsU0FBU0csY0FBYyxPQUN2Q2MsRUFBVWIsYUFBYSxLQUFNLFlBQVlVLElBQVFFLEtBQ2pEQyxFQUFVYixhQUFhLGVBQWdCVSxHQUN2Q0csRUFBVWIsYUFBYSxlQUFnQlksR0FDdkNDLEVBQVViLGFBQWEsZ0JBQWlCVyxFQUFRaEMsU0FDaERrQyxFQUFVQyxVQUFVQyxJQUFJLFNBQVNyQixLQUNqQ21CLEVBQVVHLFlBQWNMLEVBQVFoQyxRQUNoQyxJQUFLLElBQUlGLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNoQm9DLEVBQVVJLGFBQWEsUUFBVSxhQUFheEMsSUFDOUNxQixFQUFLb0IsWUFBWUwsR0FDVkEsRUFBVUksYUFBYSxRQUFVLGFBQWF4QyxJQUNyRHdCLEVBQUtpQixZQUFZTCxHQUNWQSxFQUFVSSxhQUFhLFFBQVUsYUFBYXhDLElBQ3JEeUIsRUFBS2dCLFlBQVlMLEdBQ1ZBLEVBQVVJLGFBQWEsUUFBVSxhQUFheEMsSUFDckQwQixFQUFLZSxZQUFZTCxHQUNWQSxFQUFVSSxhQUFhLFFBQVUsYUFBYXhDLElBQ3JEMkIsRUFBS2MsWUFBWUwsR0FDVkEsRUFBVUksYUFBYSxRQUFVLGFBQWF4QyxJQUNyRDRCLEVBQUthLFlBQVlMLEdBQ1ZBLEVBQVVJLGFBQWEsUUFBVSxhQUFheEMsSUFDckQ2QixFQUFLWSxZQUFZTCxHQUNWQSxFQUFVSSxhQUFhLFFBQVUsYUFBYXhDLElBQ3JEOEIsRUFBS1csWUFBWUwsR0FDVkEsRUFBVUksYUFBYSxRQUFVLGFBQWF4QyxJQUNyRCtCLEVBQUtVLFlBQVlMLEdBQ1ZBLEVBQVVJLGFBQWEsUUFBVSxhQUFheEMsS0FDckRnQyxFQUFNUyxZQUFZTCxHQUcxQmxCLEVBQVV1QixZQUFZcEIsR0FDdEJILEVBQVV1QixZQUFZakIsR0FDdEJOLEVBQVV1QixZQUFZaEIsR0FDdEJQLEVBQVV1QixZQUFZZixHQUN0QlIsRUFBVXVCLFlBQVlkLEdBQ3RCVCxFQUFVdUIsWUFBWWIsR0FDdEJWLEVBQVV1QixZQUFZWixHQUN0QlgsRUFBVXVCLFlBQVlYLEdBQ3RCWixFQUFVdUIsWUFBWVYsR0FDdEJiLEVBQVV1QixZQUFZVCxVQUs1QlUsRUFBYyxDQUFDM0MsRUFBV2tCLEtBQzVCLElBQUkwQixFQUFXeEIsU0FBU3lCLHVCQUF1QixTQUFTM0IsS0FFeEQsSUFBSyxJQUFJakIsRUFBSSxFQUFHQSxFQUFJMkMsRUFBU2hFLE9BQVFxQixJQUNqQzJDLEVBQVMzQyxHQUFHNkMsaUJBQWlCLFNBQVMsU0FBU0MsR0FDM0MsSUFBSUMsRUFBU0QsRUFBRUUsT0FBT1IsYUFBYSxnQkFDL0JTLEVBQVNILEVBQUVFLE9BQU9SLGFBQWEsZ0JBRVksU0FBM0NNLEVBQUVFLE9BQU9SLGFBQWEsaUJBQ3RCTSxFQUFFRSxPQUFPRSxNQUFNQyxnQkFBa0IsTUFFakNMLEVBQUVFLE9BQU9FLE1BQU1DLGdCQUFrQixPQUVyQzFDLFFBQVFDLElBQUlvQyxFQUFFRSxPQUFPUixhQUFhLGtCQUNsQ3pDLEVBQVVTLGNBQWN5QyxFQUFRRixPQ2pGL0IsTUFLVCxNQUFNSyxFQUFZLENBQ2RoRSxFQUFPLFdBQVcsR0FDbEJBLEVBQU8sWUFBWSxJQUd2QmdFLEVBQVUsR0FBR3RELE1BQU1NLFVBQVUsRUFBRyxFQUFHLEdBQ25DZ0QsRUFBVSxHQUFHdEQsTUFBTU0sVUFBVSxFQUFHLEVBQUcsR0FDbkNnRCxFQUFVLEdBQUd0RCxNQUFNTSxVQUFVLEVBQUcsRUFBRyxHQUNuQ2dELEVBQVUsR0FBR3RELE1BQU1NLFVBQVUsRUFBRyxFQUFHLEdBQ25DZ0QsRUFBVSxHQUFHdEQsTUFBTU0sVUFBVSxFQUFHLEVBQUcsR0FDbkNLLFFBQVFDLElBQUkwQyxFQUFVLEdBQUd0RCxNQUFNQyxXQUMvQmlCLEVBQWFvQyxFQUFVLEdBQUd0RCxNQUFNQyxVQUFXLEdBRTNDcUQsRUFBVSxHQUFHdEQsTUFBTU0sVUFBVSxFQUFHLEVBQUcsR0FDbkNnRCxFQUFVLEdBQUd0RCxNQUFNTSxVQUFVLEVBQUcsRUFBRyxHQUNuQ2dELEVBQVUsR0FBR3RELE1BQU1NLFVBQVUsRUFBRyxFQUFHLEdBQ25DZ0QsRUFBVSxHQUFHdEQsTUFBTU0sVUFBVSxFQUFHLEVBQUcsR0FDbkNnRCxFQUFVLEdBQUd0RCxNQUFNTSxVQUFVLEVBQUcsRUFBRyxHQUNuQ0ssUUFBUUMsSUFBSTBDLEVBQVUsR0FBR3RELE1BQU1DLFdBQy9CaUIsRUFBYW9DLEVBQVUsR0FBR3RELE1BQU1DLFVBQVcsR0FFM0MyQyxFQUFZVSxFQUFVLEdBQUd0RCxNQUFPLEdBQ2hDNEMsRUFBWVUsRUFBVSxHQUFHdEQsTUFBTyxJQzVCcEN1RCxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lQm9hcmRGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXJGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IGdhbWVCb2FyZEZhY3RvcnkgPSAoKSA9PiB7XG4gICAgbGV0IGdhbWVCb2FyZCA9IFtcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgICAgIChbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0pLFxuICAgICAgICAoW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdKSxcbiAgICAgICAgKFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSksXG4gICAgXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspe1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW2ldW2pdID0gKHtoYXNTaGlwOiBmYWxzZSwgaXNTaG90OiBmYWxzZX0pO1xuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIGNvbnN0IHBsYWNlU2hpcCA9ICh4LCB5LCBzaGlwTGVuZ3RoKSA9PiB7XG4gICAgICAgIC8vIHNob3VsZCBiZSBjYWxsaW5nIHNoaXAgZmFjdG9yeSBoZXJlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGdhbWVCb2FyZFt4XVt5XS5oYXNTaGlwID0gdHJ1ZTtcbiAgICAgICAgICAgIHkgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZUJvYXJkO1xuICAgIH1cblxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoeCwgeSkgPT4ge1xuICAgICAgICBpZiAoZ2FtZUJvYXJkW3hdW3ldLmhhc1NoaXAgPT09IHRydWUpe1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLmlzU2hvdCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhnYW1lQm9hcmQpO1xuICAgICAgICAgICAgcmV0dXJuICdIaXQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2FtZUJvYXJkW3hdW3ldLmlzU2hvdCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhnYW1lQm9hcmQpO1xuICAgICAgICAgICAgcmV0dXJuIGdhbWVCb2FyZDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoYXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1bmtlblNoaXBzID0gYXJyLmZpbHRlcihzaGlwcyA9PiBzaGlwcy5pc1N1bmsoKSk7XG4gICAgICAgIGlmIChzdW5rZW5TaGlwcy5sZW5ndGggPT09IGFyci5sZW5ndGgpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVCb2FyZCxcbiAgICAgICAgcGxhY2VTaGlwLFxuICAgICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgICBhbGxTaGlwc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgZ2FtZUJvYXJkRmFjdG9yeSB9OyIsIlxuY29uc3Qgc2hpcEZhY3RvcnkgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3Qgc2hpcCA9IFtdO1xuXG4gICAgY29uc3QgaGl0ID0gKHBvcykgPT4gc2hpcFtwb3NdID0gJ2hpdCc7XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBzdW5rID0gZmFsc2U7XG5cbiAgICAgICAgc2hpcC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT09ICdoaXQnKXtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvdW50ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHN1bmsgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VuayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bms7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgaGl0LFxuICAgICAgICBpc1N1bmssXG4gICAgfVxufTtcblxuZXhwb3J0IHsgc2hpcEZhY3RvcnkgfTsiLCJpbXBvcnQgeyBnYW1lQm9hcmRGYWN0b3J5IH0gZnJvbSAnLi9nYW1lQm9hcmRGYWN0b3J5JztcbmltcG9ydCB7IHNoaXBGYWN0b3J5IH0gZnJvbSAnLi9zaGlwRmFjdG9yeSc7XG5cbmNvbnN0IFBsYXllciA9IChuYW1lLCBpc0FjdGl2ZSA9IGZhbHNlKSA9PiB7XG5cbiAgICBsZXQgY2FycmllciA9IHNoaXBGYWN0b3J5KDUpO1xuICAgIGxldCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCk7XG4gICAgbGV0IGRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KDMpO1xuICAgIGxldCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzKTtcbiAgICBsZXQgcGF0cm9sQm9hdCA9IHNoaXBGYWN0b3J5KDIpO1xuICAgIFxuICAgIGxldCBzdGF0ZSA9IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgfVxuXG4gICAgbGV0IGJvYXJkID0gZ2FtZUJvYXJkRmFjdG9yeSgpO1xuXG4gICAgbGV0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGRlc3Ryb3llciwgc3VibWFyaW5lLCBwYXRyb2xCb2F0XTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldCBuYW1lKCl7cmV0dXJuIHN0YXRlLm5hbWU7fSxcbiAgICAgICAgZ2V0IGlzQWN0aXZlKCl7cmV0dXJuIHN0YXRlLmlzQWN0aXZlO30sXG4gICAgICAgIHRvZ2dsZSgpeyBzdGF0ZS5pc0FjdGl2ZSA9ICFzdGF0ZS5pc0FjdGl2ZTt9LFxuICAgICAgICBib2FyZCxcbiAgICAgICAgc2hpcHMsXG4gICAgfVxufTtcblxuZXhwb3J0IHsgUGxheWVyIH07IiwiXG5jb25zdCByZW5kZXJHQm9hcmQgPSAoZ2FtZUJvYXJkLCBwbGF5ZXIpID0+IHtcbiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NvbnRhaW5lciR7cGxheWVyfWApO1xuICAgIGxldCByb3cxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93MS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzEnKTtcbiAgICBsZXQgcm93MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzIuc2V0QXR0cmlidXRlKCdpZCcsICdyb3cyJyk7XG4gICAgbGV0IHJvdzMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3czLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MycpO1xuICAgIGxldCByb3c0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93NC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzQnKTtcbiAgICBsZXQgcm93NSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzUuc2V0QXR0cmlidXRlKCdpZCcsICdyb3c1Jyk7XG4gICAgbGV0IHJvdzYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c2LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93NicpO1xuICAgIGxldCByb3c3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93Ny5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JvdzcnKTtcbiAgICBsZXQgcm93OCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzguc2V0QXR0cmlidXRlKCdpZCcsICdyb3c4Jyk7XG4gICAgbGV0IHJvdzkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3c5LnNldEF0dHJpYnV0ZSgnaWQnLCAncm93OScpO1xuICAgIGxldCByb3cxMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJvdzEwLnNldEF0dHJpYnV0ZSgnaWQnLCAncm93MTAnKTtcblxuICAgIGdhbWVCb2FyZC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbihzdWJpdGVtLCBzdWJpbmRleCkge1xuICAgICAgICAgICAgbGV0IHNxdWFyZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBgc3F1YXJlRGl2JHtpbmRleH0ke3N1YmluZGV4fWApO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS15LWNvb3JkJywgaW5kZXgpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS14LWNvb3JkJywgc3ViaW5kZXgpO1xuICAgICAgICAgICAgc3F1YXJlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oYXMtc2hpcCcsIHN1Yml0ZW0uaGFzU2hpcCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYuY2xhc3NMaXN0LmFkZChgYXRrRGl2JHtwbGF5ZXJ9YCk7XG4gICAgICAgICAgICBzcXVhcmVEaXYudGV4dENvbnRlbnQgPSBzdWJpdGVtLmhhc1NoaXA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2MCR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MS5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gYHNxdWFyZURpdjEke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzIuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGBzcXVhcmVEaXYyJHtpfWApe1xuICAgICAgICAgICAgICAgICAgICByb3czLmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2MyR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93NC5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gYHNxdWFyZURpdjQke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzUuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGBzcXVhcmVEaXY1JHtpfWApe1xuICAgICAgICAgICAgICAgICAgICByb3c2LmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2NiR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93Ny5hcHBlbmRDaGlsZChzcXVhcmVEaXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlRGl2LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gYHNxdWFyZURpdjcke2l9YCl7XG4gICAgICAgICAgICAgICAgICAgIHJvdzguYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZURpdi5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGBzcXVhcmVEaXY4JHtpfWApe1xuICAgICAgICAgICAgICAgICAgICByb3c5LmFwcGVuZENoaWxkKHNxdWFyZURpdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmVEaXYuZ2V0QXR0cmlidXRlKCdpZCcpID09PSBgc3F1YXJlRGl2OSR7aX1gKXtcbiAgICAgICAgICAgICAgICAgICAgcm93MTAuYXBwZW5kQ2hpbGQoc3F1YXJlRGl2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzMpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzQpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzUpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzYpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzcpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzgpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzkpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJvdzEwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBhdGtMaXN0ZW5lciA9IChnYW1lQm9hcmQsIHBsYXllcikgPT4ge1xuICAgIGxldCByZXNwb25zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYGF0a0RpdiR7cGxheWVyfWApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHJlc3BvbnNlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgbGV0IHlQb2ludCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS15LWNvb3JkJyk7XG4gICAgICAgICAgICBsZXQgeFBvaW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXktY29vcmQnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1oYXMtc2hpcCcpID09PSAndHJ1ZScpe1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JleSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzLXNoaXAnKSk7XG4gICAgICAgICAgICBnYW1lQm9hcmQucmVjZWl2ZUF0dGFjayh4UG9pbnQsIHlQb2ludCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuXG5leHBvcnQgeyBcblxuICAgIHJlbmRlckdCb2FyZCxcbiAgICBhdGtMaXN0ZW5lcixcbiB9OyIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vcGxheWVyRmFjdG9yeSc7XG5pbXBvcnQgeyByZW5kZXJHQm9hcmQsIGF0a0xpc3RlbmVyIH0gZnJvbSAnLi9yZW5kZXInO1xuXG5jb25zdCBnYW1lID0gKCkgPT4ge1xuXG4gICAgLy9jcmVhdGUgcGxheWVyIGFuZCBjb21wdXRlciBwbGF5ZXJcbiAgICAvL3BvcHVsYXRlIGdhbWVib2FyZHMgZm9yIGJvdGggcGxheWVyc1xuXG4gICAgY29uc3QgcGxheWVyQXJyID0gW1xuICAgICAgICBQbGF5ZXIoXCJwbGF5ZXIxXCIsIHRydWUpLFxuICAgICAgICBQbGF5ZXIoXCJjb21wdXRlclwiLCBmYWxzZSlcbiAgICBdO1xuXG4gICAgcGxheWVyQXJyWzBdLmJvYXJkLnBsYWNlU2hpcCgyLCAyLCA1KTtcbiAgICBwbGF5ZXJBcnJbMF0uYm9hcmQucGxhY2VTaGlwKDgsIDAsIDQpO1xuICAgIHBsYXllckFyclswXS5ib2FyZC5wbGFjZVNoaXAoNiwgNywgMyk7XG4gICAgcGxheWVyQXJyWzBdLmJvYXJkLnBsYWNlU2hpcCg1LCAxLCAzKTtcbiAgICBwbGF5ZXJBcnJbMF0uYm9hcmQucGxhY2VTaGlwKDEsIDcsIDIpO1xuICAgIGNvbnNvbGUubG9nKHBsYXllckFyclswXS5ib2FyZC5nYW1lQm9hcmQpO1xuICAgIHJlbmRlckdCb2FyZChwbGF5ZXJBcnJbMF0uYm9hcmQuZ2FtZUJvYXJkLCAxKTtcblxuICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZVNoaXAoOCwgMSwgNSk7XG4gICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlU2hpcCgzLCA1LCA0KTtcbiAgICBwbGF5ZXJBcnJbMV0uYm9hcmQucGxhY2VTaGlwKDYsIDMsIDMpO1xuICAgIHBsYXllckFyclsxXS5ib2FyZC5wbGFjZVNoaXAoMSwgMSwgMyk7XG4gICAgcGxheWVyQXJyWzFdLmJvYXJkLnBsYWNlU2hpcCgwLCA2LCAyKTtcbiAgICBjb25zb2xlLmxvZyhwbGF5ZXJBcnJbMV0uYm9hcmQuZ2FtZUJvYXJkKTtcbiAgICByZW5kZXJHQm9hcmQocGxheWVyQXJyWzFdLmJvYXJkLmdhbWVCb2FyZCwgMik7XG5cbiAgICBhdGtMaXN0ZW5lcihwbGF5ZXJBcnJbMF0uYm9hcmQsIDEpO1xuICAgIGF0a0xpc3RlbmVyKHBsYXllckFyclsxXS5ib2FyZCwgMik7XG4gICAgLy9pZiBhdGtsaXN0ZW5lciByZXR1cm5zIHRydWVcblxuXG5cblxufTtcblxuZXhwb3J0IHsgZ2FtZSB9OyIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL2dhbWUnO1xuXG5nYW1lKCk7Il0sIm5hbWVzIjpbInNoaXBGYWN0b3J5IiwibGVuZ3RoIiwic2hpcCIsImhpdCIsInBvcyIsImlzU3VuayIsImNvdW50Iiwic3VuayIsImZvckVhY2giLCJpdGVtIiwiUGxheWVyIiwibmFtZSIsImlzQWN0aXZlIiwiY2FycmllciIsImJhdHRsZXNoaXAiLCJkZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJwYXRyb2xCb2F0Iiwic3RhdGUiLCJ0b2dnbGUiLCJib2FyZCIsImdhbWVCb2FyZCIsImkiLCJqIiwiaGFzU2hpcCIsImlzU2hvdCIsInBsYWNlU2hpcCIsIngiLCJ5Iiwic2hpcExlbmd0aCIsInJlY2VpdmVBdHRhY2siLCJjb25zb2xlIiwibG9nIiwiYWxsU2hpcHNTdW5rIiwiYXJyIiwiZmlsdGVyIiwic2hpcHMiLCJnYW1lQm9hcmRGYWN0b3J5IiwicmVuZGVyR0JvYXJkIiwicGxheWVyIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicm93MSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyb3cyIiwicm93MyIsInJvdzQiLCJyb3c1Iiwicm93NiIsInJvdzciLCJyb3c4Iiwicm93OSIsInJvdzEwIiwiaW5kZXgiLCJzdWJpdGVtIiwic3ViaW5kZXgiLCJzcXVhcmVEaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImdldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiYXRrTGlzdGVuZXIiLCJyZXNwb25zZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInlQb2ludCIsInRhcmdldCIsInhQb2ludCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwicGxheWVyQXJyIiwiZ2FtZSJdLCJzb3VyY2VSb290IjoiIn0=